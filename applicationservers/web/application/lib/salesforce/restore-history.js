
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Nov 09 2018 09:42:23 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xdc8c=['\x69\x6e\x64\x65\x78\x4f\x66','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x73\x61\x76\x65\x68\x69\x73\x74\x6f\x72\x79','\x68\x69\x73\x74\x6f\x72\x79','\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79','\x73\x79\x6e\x63\x68\x69\x64','\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79','\x53\x6f\x75\x72\x63\x65\x20\x6f\x72\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x69\x73\x20\x4e\x55\x4c\x4c','\x70\x75\x73\x68','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x79\x70\x65','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x4e\x4f\x5f\x53\x59\x4e\x43\x48\x5f\x49\x44','\x64\x6f\x63','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x77\x72\x69\x74\x65','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x69\x6e\x74\x6f\x20','\x20\x49\x64\x3a\x20','\x62\x75\x6c\x6b','\x55\x70\x64\x61\x74\x69\x6e\x67\x20','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x6c\x65\x6e\x67\x74\x68','\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x2d\x68\x69\x73\x74\x6f\x72\x79','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78\x63\x6f\x6e\x66\x69\x67','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x64\x65\x62\x75\x67\x67\x65\x72','\x6d\x65\x74\x61\x64\x61\x74\x61','\x65\x6c\x61\x73\x74\x69\x63','\x65\x78\x70\x6f\x72\x74\x73','\x6e\x65\x77','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x47\x52\x41\x58\x20\x4f\x52\x47\x20\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c','\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x69\x64','\x53\x6f\x75\x72\x63\x65\x20\x47\x52\x41\x58\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c','\x66\x6f\x72\x6d\x61\x74','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x74\x6f\x53\x74\x72\x69\x6e\x67'];(function(_0x40a045,_0x516f0e){var _0x1a687c=function(_0x48c9fe){while(--_0x48c9fe){_0x40a045['push'](_0x40a045['shift']());}};var _0x4170dd=function(){var _0x1de988={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2a78d8,_0x115ab3,_0x4d6446,_0x5bf160){_0x5bf160=_0x5bf160||{};var _0x472a96=_0x115ab3+'='+_0x4d6446;var _0x46415c=0x0;for(var _0x46415c=0x0,_0x3fe47c=_0x2a78d8['length'];_0x46415c<_0x3fe47c;_0x46415c++){var _0xb239e0=_0x2a78d8[_0x46415c];_0x472a96+=';\x20'+_0xb239e0;var _0xf7ff37=_0x2a78d8[_0xb239e0];_0x2a78d8['push'](_0xf7ff37);_0x3fe47c=_0x2a78d8['length'];if(_0xf7ff37!==!![]){_0x472a96+='='+_0xf7ff37;}}_0x5bf160['cookie']=_0x472a96;},'removeCookie':function(){return'dev';},'getCookie':function(_0x18ab6b,_0x21f680){_0x18ab6b=_0x18ab6b||function(_0x225610){return _0x225610;};var _0x2f99ed=_0x18ab6b(new RegExp('(?:^|;\x20)'+_0x21f680['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3e6368=function(_0x2a66cb,_0xfa8835){_0x2a66cb(++_0xfa8835);};_0x3e6368(_0x1a687c,_0x516f0e);return _0x2f99ed?decodeURIComponent(_0x2f99ed[0x1]):undefined;}};var _0x138740=function(){var _0x2c3986=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2c3986['test'](_0x1de988['removeCookie']['toString']());};_0x1de988['updateCookie']=_0x138740;var _0x578d59='';var _0x461d1a=_0x1de988['updateCookie']();if(!_0x461d1a){_0x1de988['setCookie'](['*'],'counter',0x1);}else if(_0x461d1a){_0x578d59=_0x1de988['getCookie'](null,'counter');}else{_0x1de988['removeCookie']();}};_0x4170dd();}(_0xdc8c,0x142));var _0xcdc8=function(_0x475303,_0x228f77){_0x475303=_0x475303-0x0;var _0x4f48a8=_0xdc8c[_0x475303];return _0x4f48a8;};var _0x35f793=function(){var _0x226b87=!![];return function(_0x3eb3e1,_0x2725bd){var _0x43313d=_0x226b87?function(){if(_0x2725bd){var _0x56c831=_0x2725bd['apply'](_0x3eb3e1,arguments);_0x2725bd=null;return _0x56c831;}}:function(){};_0x226b87=![];return _0x43313d;};}();var _0x556cd0=_0x35f793(this,function(){var _0x5174ce=function(){return'\x64\x65\x76';},_0x1e7977=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1b148b=function(){var _0x5656bd=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5656bd['\x74\x65\x73\x74'](_0x5174ce['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x205f2d=function(){var _0x1bae45=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1bae45['\x74\x65\x73\x74'](_0x1e7977['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xeb1827=function(_0x40ac83){var _0x162b92=~-0x1>>0x1+0xff%0x0;if(_0x40ac83['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x162b92)){_0x1aa1d9(_0x40ac83);}};var _0x1aa1d9=function(_0x23d2f3){var _0x419c5d=~-0x4>>0x1+0xff%0x0;if(_0x23d2f3['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x419c5d){_0xeb1827(_0x23d2f3);}};if(!_0x1b148b()){if(!_0x205f2d()){_0xeb1827('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0xeb1827('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0xeb1827('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x556cd0();'use strict';var moment=require('\x6d\x6f\x6d\x65\x6e\x74');var modulename=_0xcdc8('0x0');var GRAXMetaData=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61');var GRAXElastic=require(_0xcdc8('0x1'));var GRAXOperations=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73');var graxHistoryDocName=_0xcdc8('0x2');var graxindexname=_0xcdc8('0x3')+graxHistoryDocName+_0xcdc8('0x4');var GRAXDebugger=null;function SalesforceRestoreHistory(_0x5a3b55){this[_0xcdc8('0x5')]=new GRAXOperations(_0x5a3b55,modulename);this[_0xcdc8('0x6')]=this[_0xcdc8('0x5')][_0xcdc8('0x7')];GRAXDebugger=this[_0xcdc8('0x5')][_0xcdc8('0x8')];this[_0xcdc8('0x9')]=new GRAXMetaData({});this[_0xcdc8('0xa')]=new GRAXElastic({});}module[_0xcdc8('0xb')]=SalesforceRestoreHistory;function getdoc(_0x15748e){if(_0x15748e){if(_0x15748e[_0xcdc8('0xc')]!==null&&_0x15748e['\x6e\x65\x77']!==undefined){return _0x15748e[_0xcdc8('0xc')][0x0];}else{return _0x15748e;}}else{return{};}}function getuniqueid(_0x219f7e){if(getdoc(_0x219f7e['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])[_0xcdc8('0xd')]===null||getdoc(_0x219f7e[_0xcdc8('0xe')])[_0xcdc8('0xd')]===undefined){throw new Error(_0xcdc8('0xf'));}if(getdoc(_0x219f7e[_0xcdc8('0x10')])[_0xcdc8('0x11')]===null||getdoc(_0x219f7e[_0xcdc8('0x10')])[_0xcdc8('0x11')]===undefined){throw new Error(_0xcdc8('0x12'));}return getdoc(_0x219f7e[_0xcdc8('0x10')])[_0xcdc8('0x11')]+'\x5f'+getdoc(_0x219f7e[_0xcdc8('0xe')])[_0xcdc8('0xd')];}function getdocumenthistory(_0x4349d3){var _0x5264b5=moment()[_0xcdc8('0x13')](_0xcdc8('0x14'))+_0xcdc8('0x15');var _0x604383={'Id':getuniqueid(_0x4349d3),'attributes':{'type':graxHistoryDocName},'source_Id':getdoc(_0x4349d3[_0xcdc8('0x10')])['\x49\x64'],'source_orgid':getdoc(_0x4349d3[_0xcdc8('0x10')])[_0xcdc8('0xd')],'source_graxid':getdoc(_0x4349d3[_0xcdc8('0x10')])[_0xcdc8('0x11')],'source_LastModifiedDate':getdoc(_0x4349d3[_0xcdc8('0x10')])['\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65'],'source_CreatedDate':getdoc(_0x4349d3[_0xcdc8('0x10')])[_0xcdc8('0x16')],'destination_Id_history':[],'destination_orgid':getdoc(_0x4349d3[_0xcdc8('0xe')])[_0xcdc8('0xd')],'CreatedDate':_0x5264b5,'SystemModstamp':_0x5264b5,'LastModifiedDate':_0x5264b5};if(getdoc(_0x4349d3[_0xcdc8('0xe')])['\x49\x64']!==null&&getdoc(_0x4349d3[_0xcdc8('0xe')])['\x49\x64']!==undefined){_0x604383[_0xcdc8('0x17')]=getdoc(_0x4349d3[_0xcdc8('0xe')])['\x49\x64'];_0x604383[_0xcdc8('0x18')]=getdoc(_0x4349d3[_0xcdc8('0xe')])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64']+'\x5f'+getdoc(_0x4349d3['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])['\x49\x64'];}return _0x604383;}SalesforceRestoreHistory[_0xcdc8('0x19')][_0xcdc8('0x1a')]=getdocumenthistory;SalesforceRestoreHistory[_0xcdc8('0x19')]['\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79']=function(_0x2be61d,_0x5eefe5){try{var _0x4f08d5=getdocumenthistory(_0x2be61d);var _0x2cb4d8={'objecttype':graxHistoryDocName,'filterfield':'\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64','filtervalue':_0x4f08d5['\x49\x64']};this[_0xcdc8('0xa')]['\x73\x65\x61\x72\x63\x68'](_0x2cb4d8,function(_0x29619d,_0x564015){if(_0x29619d){_0x5eefe5(null,[]);}else{_0x5eefe5(_0x29619d,_0x564015);}});}catch(_0x56c9df){if(_0x56c9df[_0xcdc8('0x1b')]()[_0xcdc8('0x1c')](_0xcdc8('0x1d'))!==-0x1){_0x5eefe5(null,[]);}else{_0x5eefe5(_0x56c9df,[]);}}};SalesforceRestoreHistory[_0xcdc8('0x19')][_0xcdc8('0x1e')]=function(_0x5d2413,_0x159b90){if(_0x5d2413[_0xcdc8('0x10')]&&_0x5d2413[_0xcdc8('0xe')]){var _0x44afcb=this[_0xcdc8('0x1a')](_0x5d2413);if(_0x5d2413[_0xcdc8('0x1f')]){this[_0xcdc8('0x20')]({'doc':_0x44afcb,'history':_0x5d2413[_0xcdc8('0x1f')],'source':_0x5d2413[_0xcdc8('0x10')],'synchid':_0x5d2413[_0xcdc8('0x21')]},_0x159b90);}else{this[_0xcdc8('0x22')]({'doc':_0x44afcb,'source':_0x5d2413[_0xcdc8('0x10')],'synchid':_0x5d2413[_0xcdc8('0x21')]},_0x159b90);}}else{_0x159b90(new Error(_0xcdc8('0x23')),null);}};function addsynchupdate(_0x2f4a13,_0x36f232){if(_0x36f232[_0xcdc8('0x10')]&&_0x2f4a13){_0x2f4a13[_0xcdc8('0x24')]({'update':{'_index':_0xcdc8('0x3')+_0x36f232[_0xcdc8('0x10')][_0xcdc8('0x25')][_0xcdc8('0x26')][_0xcdc8('0x1b')]()[_0xcdc8('0x27')]()+_0xcdc8('0x4'),'_type':'\x67\x72\x61\x78'+_0x36f232['\x73\x6f\x75\x72\x63\x65'][_0xcdc8('0x25')][_0xcdc8('0x26')]['\x74\x6f\x53\x74\x72\x69\x6e\x67']()['\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65'](),'_id':_0x36f232[_0xcdc8('0x10')][_0xcdc8('0x11')]}});if(_0x36f232[_0xcdc8('0x21')]===null||_0x36f232[_0xcdc8('0x21')]===undefined||_0x36f232[_0xcdc8('0x21')]===''){_0x36f232[_0xcdc8('0x21')]=_0xcdc8('0x28');}_0x2f4a13[_0xcdc8('0x24')]({'doc':{'grax':{'synchid':_0x36f232[_0xcdc8('0x21')],'lastsynch':moment()[_0xcdc8('0x13')](_0xcdc8('0x14'))+_0xcdc8('0x15'),'synch':[{'organizationid':_0x36f232[_0xcdc8('0x29')][_0xcdc8('0x2a')],'Id':_0x36f232[_0xcdc8('0x29')][_0xcdc8('0x17')],'graxid':_0x36f232[_0xcdc8('0x29')][_0xcdc8('0x18')],'success':!![],'SynchDate':moment()[_0xcdc8('0x13')]('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0xcdc8('0x15')}]}}});}return _0x2f4a13;}function CreateDocument(_0x4da401,_0x1ecccd){GRAXDebugger[_0xcdc8('0x2b')]({'info':_0xcdc8('0x2c')+graxindexname+_0xcdc8('0x2d')+_0x4da401['\x64\x6f\x63']['\x49\x64']});var _0x336d4e=[{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x4da401[_0xcdc8('0x29')]['\x49\x64']}},{'doc':_0x4da401[_0xcdc8('0x29')]}];_0x336d4e=addsynchupdate(_0x336d4e,_0x4da401);this[_0xcdc8('0xa')]['\x65\x73'][_0xcdc8('0x2e')]({'body':_0x336d4e},function(_0x444555,_0xe8d3e4){_0x1ecccd(_0x444555,_0x4da401[_0xcdc8('0x29')]);});}SalesforceRestoreHistory[_0xcdc8('0x19')]['\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79']=CreateDocument;setInterval(function(){_0x1befa0();},0xfa0);function UpdateDocument(_0x3af661,_0x1707b7){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0xcdc8('0x2f')+graxindexname+_0xcdc8('0x2d')+_0x3af661['\x64\x6f\x63']['\x49\x64']});if(_0x3af661[_0xcdc8('0x1f')][_0xcdc8('0x30')]){_0x3af661[_0xcdc8('0x29')][_0xcdc8('0x30')]=_0x3af661[_0xcdc8('0x1f')][_0xcdc8('0x30')];}if(!_0x3af661[_0xcdc8('0x29')][_0xcdc8('0x30')]){_0x3af661['\x64\x6f\x63'][_0xcdc8('0x30')]=[_0x3af661['\x73\x6f\x75\x72\x63\x65']['\x69\x64']];}_0x3af661[_0xcdc8('0x29')][_0xcdc8('0x30')][_0xcdc8('0x24')](_0x3af661[_0xcdc8('0x1f')][_0xcdc8('0x17')]);var _0x3802c1=[{'delete':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x3af661[_0xcdc8('0x29')]['\x49\x64']}},{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x3af661[_0xcdc8('0x29')]['\x49\x64']}},{'doc':_0x3af661[_0xcdc8('0x29')]}];_0x3802c1=addsynchupdate(_0x3802c1,_0x3af661);this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73'][_0xcdc8('0x2e')]({'body':_0x3802c1},function(_0x1a16ce,_0x445310){_0x1707b7(_0x1a16ce,_0x3af661[_0xcdc8('0x29')]);});}SalesforceRestoreHistory[_0xcdc8('0x19')][_0xcdc8('0x20')]=UpdateDocument;var _0x1befa0=function(){function _0x3d6e04(_0x4ec6c2){if((''+_0x4ec6c2/_0x4ec6c2)[_0xcdc8('0x31')]!==0x1||_0x4ec6c2%0x14===0x0){(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72']('\x64\x65\x62\x75\x67\x67\x65\x72')());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0xcdc8('0x8'))());}_0x3d6e04(++_0x4ec6c2);}try{_0x3d6e04(0x0);}catch(_0x62d6fc){}};_0x1befa0();