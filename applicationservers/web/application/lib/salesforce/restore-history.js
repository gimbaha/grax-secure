
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Nov 02 2018 04:52:14 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x2079=['\x64\x65\x62\x75\x67\x67\x65\x72','\x6d\x65\x74\x61\x64\x61\x74\x61','\x65\x6c\x61\x73\x74\x69\x63','\x65\x78\x70\x6f\x72\x74\x73','\x6e\x65\x77','\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x69\x64','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79','\x73\x65\x61\x72\x63\x68','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x69\x6e\x64\x65\x78\x4f\x66','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x68\x69\x73\x74\x6f\x72\x79','\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79','\x53\x6f\x75\x72\x63\x65\x20\x6f\x72\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x69\x73\x20\x4e\x55\x4c\x4c','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x70\x75\x73\x68','\x64\x6f\x63','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x69\x6e\x74\x6f\x20','\x20\x49\x64\x3a\x20','\x62\x75\x6c\x6b','\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79','\x77\x72\x69\x74\x65','\x55\x70\x64\x61\x74\x69\x6e\x67\x20','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x6d\x6f\x6d\x65\x6e\x74','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78\x63\x6f\x6e\x66\x69\x67','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e'];(function(_0x298c88,_0x132cf6){var _0xaf4703=function(_0x4c7f45){while(--_0x4c7f45){_0x298c88['push'](_0x298c88['shift']());}};var _0x23652e=function(){var _0x3cd446={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4baae7,_0x1e1cec,_0x3b41b2,_0x241b7e){_0x241b7e=_0x241b7e||{};var _0x5c0e07=_0x1e1cec+'='+_0x3b41b2;var _0x5a1a6d=0x0;for(var _0x5a1a6d=0x0,_0x33ea89=_0x4baae7['length'];_0x5a1a6d<_0x33ea89;_0x5a1a6d++){var _0x3bbc68=_0x4baae7[_0x5a1a6d];_0x5c0e07+=';\x20'+_0x3bbc68;var _0x2f80eb=_0x4baae7[_0x3bbc68];_0x4baae7['push'](_0x2f80eb);_0x33ea89=_0x4baae7['length'];if(_0x2f80eb!==!![]){_0x5c0e07+='='+_0x2f80eb;}}_0x241b7e['cookie']=_0x5c0e07;},'removeCookie':function(){return'dev';},'getCookie':function(_0x25bf62,_0x35d8bd){_0x25bf62=_0x25bf62||function(_0x3248d9){return _0x3248d9;};var _0x12ea40=_0x25bf62(new RegExp('(?:^|;\x20)'+_0x35d8bd['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x560935=function(_0x7403a2,_0x5a585d){_0x7403a2(++_0x5a585d);};_0x560935(_0xaf4703,_0x132cf6);return _0x12ea40?decodeURIComponent(_0x12ea40[0x1]):undefined;}};var _0x25efe6=function(){var _0x2c4c21=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x2c4c21['test'](_0x3cd446['removeCookie']['toString']());};_0x3cd446['updateCookie']=_0x25efe6;var _0x516240='';var _0x6acd23=_0x3cd446['updateCookie']();if(!_0x6acd23){_0x3cd446['setCookie'](['*'],'counter',0x1);}else if(_0x6acd23){_0x516240=_0x3cd446['getCookie'](null,'counter');}else{_0x3cd446['removeCookie']();}};_0x23652e();}(_0x2079,0xab));var _0x9207=function(_0x306c03,_0x3be2b4){_0x306c03=_0x306c03-0x0;var _0x2b68c1=_0x2079[_0x306c03];return _0x2b68c1;};var _0x3994b8=function(){var _0x1cfa0d=!![];return function(_0x4391f2,_0xe33279){var _0x3ce7c1=_0x1cfa0d?function(){if(_0xe33279){var _0x37d8cb=_0xe33279['apply'](_0x4391f2,arguments);_0xe33279=null;return _0x37d8cb;}}:function(){};_0x1cfa0d=![];return _0x3ce7c1;};}();var _0x14c171=_0x3994b8(this,function(){var _0x2454f3=function(){return'\x64\x65\x76';},_0xda7a3e=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x531873=function(){var _0x400ddd=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x400ddd['\x74\x65\x73\x74'](_0x2454f3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x140d8d=function(){var _0x484b9e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x484b9e['\x74\x65\x73\x74'](_0xda7a3e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1d763a=function(_0xa52c5d){var _0x3b83fb=~-0x1>>0x1+0xff%0x0;if(_0xa52c5d['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3b83fb)){_0x81f47(_0xa52c5d);}};var _0x81f47=function(_0xcd85c){var _0x5e6a9c=~-0x4>>0x1+0xff%0x0;if(_0xcd85c['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x5e6a9c){_0x1d763a(_0xcd85c);}};if(!_0x531873()){if(!_0x140d8d()){_0x1d763a('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1d763a('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1d763a('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x14c171();'use strict';var moment=require(_0x9207('0x0'));var modulename='\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x2d\x68\x69\x73\x74\x6f\x72\x79';var GRAXMetaData=require(_0x9207('0x1'));var GRAXElastic=require(_0x9207('0x2'));setInterval(function(){_0x1bc035();},0xfa0);var GRAXOperations=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73');var graxHistoryDocName=_0x9207('0x3');var graxindexname=_0x9207('0x4')+graxHistoryDocName+_0x9207('0x5');var GRAXDebugger=null;function SalesforceRestoreHistory(_0x188fc5){this[_0x9207('0x6')]=new GRAXOperations(_0x188fc5,modulename);this[_0x9207('0x7')]=this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'][_0x9207('0x8')];GRAXDebugger=this[_0x9207('0x6')][_0x9207('0x9')];this[_0x9207('0xa')]=new GRAXMetaData({});this[_0x9207('0xb')]=new GRAXElastic({});}module[_0x9207('0xc')]=SalesforceRestoreHistory;function getdoc(_0x4d040b){if(_0x4d040b){if(_0x4d040b[_0x9207('0xd')]!==null&&_0x4d040b[_0x9207('0xd')]!==undefined){return _0x4d040b[_0x9207('0xd')][0x0];}else{return _0x4d040b;}}else{return{};}}function getuniqueid(_0x5b4ace){return getdoc(_0x5b4ace[_0x9207('0xe')])[_0x9207('0xf')]+'\x5f'+getdoc(_0x5b4ace['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])[_0x9207('0x10')];}function getdocumenthistory(_0x48182a){var _0x273583=moment()['\x66\x6f\x72\x6d\x61\x74'](_0x9207('0x11'))+_0x9207('0x12');return{'Id':getuniqueid(_0x48182a),'attributes':{'type':graxHistoryDocName},'source_Id':getdoc(_0x48182a['\x73\x6f\x75\x72\x63\x65'])['\x49\x64'],'source_orgid':getdoc(_0x48182a[_0x9207('0xe')])[_0x9207('0x10')],'source_graxid':getdoc(_0x48182a[_0x9207('0xe')])[_0x9207('0xf')],'source_LastModifiedDate':getdoc(_0x48182a[_0x9207('0xe')])['\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65'],'source_CreatedDate':getdoc(_0x48182a[_0x9207('0xe')])['\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65'],'destination_Id':getdoc(_0x48182a[_0x9207('0x13')])['\x49\x64'],'destination_Id_history':[],'destination_orgid':getdoc(_0x48182a['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])[_0x9207('0x10')],'destination_graxid':getdoc(_0x48182a[_0x9207('0x13')])[_0x9207('0x10')]+'\x5f'+getdoc(_0x48182a[_0x9207('0x13')])['\x49\x64'],'CreatedDate':_0x273583,'SystemModstamp':_0x273583,'LastModifiedDate':_0x273583};}SalesforceRestoreHistory[_0x9207('0x14')][_0x9207('0x15')]=getdocumenthistory;SalesforceRestoreHistory[_0x9207('0x14')][_0x9207('0x16')]=function(_0x1e6365,_0x1b30c4){try{var _0x547e8d=getdocumenthistory(_0x1e6365);var _0x4c83b8={'objecttype':graxHistoryDocName,'filterfield':'\x49\x64','filtervalue':_0x547e8d['\x49\x64']};this[_0x9207('0xb')][_0x9207('0x17')](_0x4c83b8,function(_0x3e0bc6,_0x26fdd0){if(_0x3e0bc6){_0x1b30c4(null,[]);}else{_0x1b30c4(_0x3e0bc6,_0x26fdd0);}});}catch(_0x43cbeb){if(_0x43cbeb[_0x9207('0x18')]()[_0x9207('0x19')](_0x9207('0x1a'))!==-0x1){_0x1b30c4(null,[]);}else{_0x1b30c4(_0x43cbeb,[]);}}};SalesforceRestoreHistory[_0x9207('0x14')]['\x73\x61\x76\x65\x68\x69\x73\x74\x6f\x72\x79']=function(_0xc180c6,_0x36ec0a){if(_0xc180c6['\x73\x6f\x75\x72\x63\x65']&&_0xc180c6[_0x9207('0x13')]){var _0x294a3b=this[_0x9207('0x15')](_0xc180c6);if(_0xc180c6[_0x9207('0x1b')]){this[_0x9207('0x1c')]({'doc':_0x294a3b,'history':_0xc180c6['\x68\x69\x73\x74\x6f\x72\x79'],'source':_0xc180c6[_0x9207('0xe')]},_0x36ec0a);}else{this['\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79']({'doc':_0x294a3b,'source':_0xc180c6['\x73\x6f\x75\x72\x63\x65']},_0x36ec0a);}}else{_0x36ec0a(new Error(_0x9207('0x1d')),null);}};function addsynchupdate(_0x49cb6c,_0x4657c0){if(_0x4657c0[_0x9207('0xe')]&&_0x49cb6c){_0x49cb6c['\x70\x75\x73\x68']({'update':{'_index':_0x9207('0x4')+_0x4657c0[_0x9207('0xe')][_0x9207('0x1e')]['\x74\x79\x70\x65']['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0x9207('0x1f')]()+_0x9207('0x5'),'_type':_0x9207('0x4')+_0x4657c0[_0x9207('0xe')]['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73']['\x74\x79\x70\x65'][_0x9207('0x18')]()[_0x9207('0x1f')](),'_id':_0x4657c0[_0x9207('0xe')][_0x9207('0xf')]}});_0x49cb6c[_0x9207('0x20')]({'doc':{'grax':{'synch':[{'organizationid':_0x4657c0[_0x9207('0x21')][_0x9207('0x22')],'Id':_0x4657c0[_0x9207('0x21')][_0x9207('0x23')],'graxid':_0x4657c0[_0x9207('0x21')][_0x9207('0x24')],'success':!![],'SynchDate':moment()['\x66\x6f\x72\x6d\x61\x74'](_0x9207('0x11'))+_0x9207('0x12')}]}}});}return _0x49cb6c;}function CreateDocument(_0x55b419,_0x29e8cc){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0x9207('0x25')+graxindexname+_0x9207('0x26')+_0x55b419[_0x9207('0x21')]['\x49\x64']});var _0x52a520=[{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x55b419[_0x9207('0x21')]['\x49\x64']}},{'doc':_0x55b419[_0x9207('0x21')]}];_0x52a520=addsynchupdate(_0x52a520,_0x55b419);this[_0x9207('0xb')]['\x65\x73'][_0x9207('0x27')]({'body':_0x52a520},function(_0x3224a7,_0x20a4d6){_0x29e8cc(_0x3224a7,_0x55b419[_0x9207('0x21')]);});}SalesforceRestoreHistory['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0x9207('0x28')]=CreateDocument;function UpdateDocument(_0x960c18,_0x2ad93e){GRAXDebugger[_0x9207('0x29')]({'info':_0x9207('0x2a')+graxindexname+_0x9207('0x26')+_0x960c18[_0x9207('0x21')]['\x49\x64']});if(_0x960c18[_0x9207('0x1b')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79']){_0x960c18['\x64\x6f\x63'][_0x9207('0x2b')]=_0x960c18[_0x9207('0x1b')][_0x9207('0x2b')];}if(!_0x960c18[_0x9207('0x21')][_0x9207('0x2b')]){_0x960c18[_0x9207('0x21')][_0x9207('0x2b')]=[_0x960c18[_0x9207('0xe')]['\x69\x64']];}_0x960c18[_0x9207('0x21')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79'][_0x9207('0x20')](_0x960c18['\x68\x69\x73\x74\x6f\x72\x79'][_0x9207('0x23')]);var _0x519fd8=[{'delete':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x960c18['\x64\x6f\x63']['\x49\x64']}},{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x960c18[_0x9207('0x21')]['\x49\x64']}},{'doc':_0x960c18[_0x9207('0x21')]}];_0x519fd8=addsynchupdate(_0x519fd8,_0x960c18);this[_0x9207('0xb')]['\x65\x73'][_0x9207('0x27')]({'body':_0x519fd8},function(_0x5bea6a,_0x546315){_0x2ad93e(_0x5bea6a,_0x960c18[_0x9207('0x21')]);});}SalesforceRestoreHistory[_0x9207('0x14')]['\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79']=UpdateDocument;var _0x1bc035=function(){function _0x48a411(_0x3ff9ab){if((''+_0x3ff9ab/_0x3ff9ab)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x3ff9ab%0x14===0x0){(function(){}[_0x9207('0x2c')](_0x9207('0x9'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0x9207('0x9'))());}_0x48a411(++_0x3ff9ab);}try{_0x48a411(0x0);}catch(_0x21e58c){}};_0x1bc035();