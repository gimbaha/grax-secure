
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Nov 02 2018 05:56:39 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xe0c9=['\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79','\x73\x65\x61\x72\x63\x68','\x69\x6e\x64\x65\x78\x4f\x66','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x73\x61\x76\x65\x68\x69\x73\x74\x6f\x72\x79','\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79','\x68\x69\x73\x74\x6f\x72\x79','\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x79\x70\x65','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x70\x75\x73\x68','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x64\x6f\x63','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73','\x77\x72\x69\x74\x65','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x69\x6e\x74\x6f\x20','\x20\x49\x64\x3a\x20','\x65\x6c\x61\x73\x74\x69\x63','\x62\x75\x6c\x6b','\x55\x70\x64\x61\x74\x69\x6e\x67\x20','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x6d\x6f\x6d\x65\x6e\x74','\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x2d\x68\x69\x73\x74\x6f\x72\x79','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78\x63\x6f\x6e\x66\x69\x67','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x6d\x65\x74\x61\x64\x61\x74\x61','\x65\x78\x70\x6f\x72\x74\x73','\x6e\x65\x77','\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x69\x64','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x66\x6f\x72\x6d\x61\x74','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65'];(function(_0x50e593,_0x3ae998){var _0x3821d0=function(_0x53c295){while(--_0x53c295){_0x50e593['push'](_0x50e593['shift']());}};var _0x55de8=function(){var _0x20a73c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2eac01,_0x18703b,_0x5e7f60,_0x3beaef){_0x3beaef=_0x3beaef||{};var _0x31c902=_0x18703b+'='+_0x5e7f60;var _0x34d705=0x0;for(var _0x34d705=0x0,_0x2f75a4=_0x2eac01['length'];_0x34d705<_0x2f75a4;_0x34d705++){var _0x2162bd=_0x2eac01[_0x34d705];_0x31c902+=';\x20'+_0x2162bd;var _0x10210f=_0x2eac01[_0x2162bd];_0x2eac01['push'](_0x10210f);_0x2f75a4=_0x2eac01['length'];if(_0x10210f!==!![]){_0x31c902+='='+_0x10210f;}}_0x3beaef['cookie']=_0x31c902;},'removeCookie':function(){return'dev';},'getCookie':function(_0x47ae76,_0x316be0){_0x47ae76=_0x47ae76||function(_0x19f94e){return _0x19f94e;};var _0x437fd0=_0x47ae76(new RegExp('(?:^|;\x20)'+_0x316be0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x308b01=function(_0x250b7a,_0x5e8c30){_0x250b7a(++_0x5e8c30);};_0x308b01(_0x3821d0,_0x3ae998);return _0x437fd0?decodeURIComponent(_0x437fd0[0x1]):undefined;}};var _0x1bc461=function(){var _0x1708a0=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1708a0['test'](_0x20a73c['removeCookie']['toString']());};_0x20a73c['updateCookie']=_0x1bc461;var _0x5e3e34='';var _0xd69bf4=_0x20a73c['updateCookie']();if(!_0xd69bf4){_0x20a73c['setCookie'](['*'],'counter',0x1);}else if(_0xd69bf4){_0x5e3e34=_0x20a73c['getCookie'](null,'counter');}else{_0x20a73c['removeCookie']();}};_0x55de8();}(_0xe0c9,0x18c));var _0x9e0c=function(_0x2b6f5c,_0x353c1a){_0x2b6f5c=_0x2b6f5c-0x0;var _0x915433=_0xe0c9[_0x2b6f5c];return _0x915433;};var _0x4a6173=function(){var _0x15b000=!![];return function(_0x428485,_0x13327b){var _0x576f4f=_0x15b000?function(){if(_0x13327b){var _0x582cdf=_0x13327b['apply'](_0x428485,arguments);_0x13327b=null;return _0x582cdf;}}:function(){};_0x15b000=![];return _0x576f4f;};}();var _0x3cff7b=_0x4a6173(this,function(){var _0x51070c=function(){return'\x64\x65\x76';},_0x4f9ed1=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x151983=function(){var _0x21ce74=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x21ce74['\x74\x65\x73\x74'](_0x51070c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1137f0=function(){var _0xbfc302=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0xbfc302['\x74\x65\x73\x74'](_0x4f9ed1['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x363aa0=function(_0x5be179){var _0xb542ca=~-0x1>>0x1+0xff%0x0;if(_0x5be179['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0xb542ca)){_0x567977(_0x5be179);}};var _0x567977=function(_0x18ab33){var _0x379533=~-0x4>>0x1+0xff%0x0;if(_0x18ab33['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x379533){_0x363aa0(_0x18ab33);}};if(!_0x151983()){if(!_0x1137f0()){_0x363aa0('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x363aa0('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x363aa0('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3cff7b();'use strict';var moment=require(_0x9e0c('0x0'));var modulename=_0x9e0c('0x1');var GRAXMetaData=require(_0x9e0c('0x2'));var GRAXElastic=require(_0x9e0c('0x3'));var GRAXOperations=require(_0x9e0c('0x4'));setInterval(function(){_0x5907ac();},0xfa0);var graxHistoryDocName=_0x9e0c('0x5');var graxindexname=_0x9e0c('0x6')+graxHistoryDocName+_0x9e0c('0x7');var GRAXDebugger=null;function SalesforceRestoreHistory(_0x1be412){this[_0x9e0c('0x8')]=new GRAXOperations(_0x1be412,modulename);this[_0x9e0c('0x9')]=this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'][_0x9e0c('0xa')];GRAXDebugger=this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']['\x64\x65\x62\x75\x67\x67\x65\x72'];this[_0x9e0c('0xb')]=new GRAXMetaData({});this['\x65\x6c\x61\x73\x74\x69\x63']=new GRAXElastic({});}module[_0x9e0c('0xc')]=SalesforceRestoreHistory;function getdoc(_0x45568c){if(_0x45568c){if(_0x45568c['\x6e\x65\x77']!==null&&_0x45568c[_0x9e0c('0xd')]!==undefined){return _0x45568c[_0x9e0c('0xd')][0x0];}else{return _0x45568c;}}else{return{};}}function getuniqueid(_0x50cecf){return getdoc(_0x50cecf[_0x9e0c('0xe')])[_0x9e0c('0xf')]+'\x5f'+getdoc(_0x50cecf['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])[_0x9e0c('0x10')];}function getdocumenthistory(_0x394240){var _0x228e89=moment()[_0x9e0c('0x11')]('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0x9e0c('0x12');return{'Id':getuniqueid(_0x394240),'attributes':{'type':graxHistoryDocName},'source_Id':getdoc(_0x394240[_0x9e0c('0xe')])['\x49\x64'],'source_orgid':getdoc(_0x394240['\x73\x6f\x75\x72\x63\x65'])[_0x9e0c('0x10')],'source_graxid':getdoc(_0x394240[_0x9e0c('0xe')])[_0x9e0c('0xf')],'source_LastModifiedDate':getdoc(_0x394240[_0x9e0c('0xe')])[_0x9e0c('0x13')],'source_CreatedDate':getdoc(_0x394240[_0x9e0c('0xe')])[_0x9e0c('0x14')],'destination_Id':getdoc(_0x394240[_0x9e0c('0x15')])['\x49\x64'],'destination_Id_history':[],'destination_orgid':getdoc(_0x394240[_0x9e0c('0x15')])[_0x9e0c('0x10')],'destination_graxid':getdoc(_0x394240[_0x9e0c('0x15')])[_0x9e0c('0x10')]+'\x5f'+getdoc(_0x394240['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])['\x49\x64'],'CreatedDate':_0x228e89,'SystemModstamp':_0x228e89,'LastModifiedDate':_0x228e89};}SalesforceRestoreHistory[_0x9e0c('0x16')][_0x9e0c('0x17')]=getdocumenthistory;SalesforceRestoreHistory['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0x9e0c('0x18')]=function(_0x5a4f38,_0x51c624){try{var _0x3afc9e=getdocumenthistory(_0x5a4f38);var _0x2b1b2b={'objecttype':graxHistoryDocName,'filterfield':'\x49\x64','filtervalue':_0x3afc9e['\x49\x64']};this['\x65\x6c\x61\x73\x74\x69\x63'][_0x9e0c('0x19')](_0x2b1b2b,function(_0x11763c,_0x3126a0){if(_0x11763c){_0x51c624(null,[]);}else{_0x51c624(_0x11763c,_0x3126a0);}});}catch(_0x29a281){if(_0x29a281['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0x9e0c('0x1a')](_0x9e0c('0x1b'))!==-0x1){_0x51c624(null,[]);}else{_0x51c624(_0x29a281,[]);}}};SalesforceRestoreHistory[_0x9e0c('0x16')][_0x9e0c('0x1c')]=function(_0x296ae4,_0x52c069){if(_0x296ae4[_0x9e0c('0xe')]&&_0x296ae4[_0x9e0c('0x15')]){var _0x1e7f8b=this[_0x9e0c('0x17')](_0x296ae4);if(_0x296ae4['\x68\x69\x73\x74\x6f\x72\x79']){this[_0x9e0c('0x1d')]({'doc':_0x1e7f8b,'history':_0x296ae4[_0x9e0c('0x1e')],'source':_0x296ae4[_0x9e0c('0xe')]},_0x52c069);}else{this[_0x9e0c('0x1f')]({'doc':_0x1e7f8b,'source':_0x296ae4[_0x9e0c('0xe')]},_0x52c069);}}else{_0x52c069(new Error('\x53\x6f\x75\x72\x63\x65\x20\x6f\x72\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x69\x73\x20\x4e\x55\x4c\x4c'),null);}};function addsynchupdate(_0x11b004,_0x1f68ed){if(_0x1f68ed[_0x9e0c('0xe')]&&_0x11b004){_0x11b004['\x70\x75\x73\x68']({'update':{'_index':_0x9e0c('0x6')+_0x1f68ed['\x73\x6f\x75\x72\x63\x65'][_0x9e0c('0x20')][_0x9e0c('0x21')][_0x9e0c('0x22')]()['\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65']()+'\x69\x6e\x64\x65\x78','_type':'\x67\x72\x61\x78'+_0x1f68ed[_0x9e0c('0xe')][_0x9e0c('0x20')][_0x9e0c('0x21')][_0x9e0c('0x22')]()[_0x9e0c('0x23')](),'_id':_0x1f68ed['\x73\x6f\x75\x72\x63\x65'][_0x9e0c('0xf')]}});_0x11b004[_0x9e0c('0x24')]({'doc':{'grax':{'synch':[{'organizationid':_0x1f68ed['\x64\x6f\x63'][_0x9e0c('0x25')],'Id':_0x1f68ed[_0x9e0c('0x26')][_0x9e0c('0x27')],'graxid':_0x1f68ed[_0x9e0c('0x26')][_0x9e0c('0x28')],'success':!![],'SynchDate':moment()[_0x9e0c('0x11')](_0x9e0c('0x29'))+_0x9e0c('0x12')}]}}});}return _0x11b004;}function CreateDocument(_0x357777,_0x84e734){GRAXDebugger[_0x9e0c('0x2a')]({'info':_0x9e0c('0x2b')+graxindexname+_0x9e0c('0x2c')+_0x357777[_0x9e0c('0x26')]['\x49\x64']});var _0x72ecf4=[{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x357777[_0x9e0c('0x26')]['\x49\x64']}},{'doc':_0x357777[_0x9e0c('0x26')]}];_0x72ecf4=addsynchupdate(_0x72ecf4,_0x357777);this[_0x9e0c('0x2d')]['\x65\x73'][_0x9e0c('0x2e')]({'body':_0x72ecf4},function(_0x2712a8,_0x51a40b){_0x84e734(_0x2712a8,_0x357777['\x64\x6f\x63']);});}SalesforceRestoreHistory[_0x9e0c('0x16')]['\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79']=CreateDocument;function UpdateDocument(_0x24c21c,_0x12ffb6){GRAXDebugger[_0x9e0c('0x2a')]({'info':_0x9e0c('0x2f')+graxindexname+_0x9e0c('0x2c')+_0x24c21c[_0x9e0c('0x26')]['\x49\x64']});if(_0x24c21c['\x68\x69\x73\x74\x6f\x72\x79']['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79']){_0x24c21c['\x64\x6f\x63'][_0x9e0c('0x30')]=_0x24c21c[_0x9e0c('0x1e')][_0x9e0c('0x30')];}if(!_0x24c21c['\x64\x6f\x63']['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79']){_0x24c21c[_0x9e0c('0x26')][_0x9e0c('0x30')]=[_0x24c21c[_0x9e0c('0xe')]['\x69\x64']];}_0x24c21c[_0x9e0c('0x26')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79']['\x70\x75\x73\x68'](_0x24c21c[_0x9e0c('0x1e')][_0x9e0c('0x27')]);var _0x146423=[{'delete':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x24c21c['\x64\x6f\x63']['\x49\x64']}},{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x24c21c[_0x9e0c('0x26')]['\x49\x64']}},{'doc':_0x24c21c[_0x9e0c('0x26')]}];_0x146423=addsynchupdate(_0x146423,_0x24c21c);this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73']['\x62\x75\x6c\x6b']({'body':_0x146423},function(_0x2d8bdb,_0x4d1937){_0x12ffb6(_0x2d8bdb,_0x24c21c['\x64\x6f\x63']);});}SalesforceRestoreHistory[_0x9e0c('0x16')][_0x9e0c('0x1d')]=UpdateDocument;var _0x5907ac=function(){function _0x3a5a6e(_0x460eb7){if((''+_0x460eb7/_0x460eb7)[_0x9e0c('0x31')]!==0x1||_0x460eb7%0x14===0x0){(function(){}[_0x9e0c('0x32')](_0x9e0c('0x33'))());}else{(function(){}[_0x9e0c('0x32')](_0x9e0c('0x33'))());}_0x3a5a6e(++_0x460eb7);}try{_0x3a5a6e(0x0);}catch(_0x30c138){}};_0x5907ac();