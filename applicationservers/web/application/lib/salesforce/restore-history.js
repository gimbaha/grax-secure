
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Tue Nov 20 2018 15:02:12 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x9639=['\x6e\x65\x77','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x47\x52\x41\x58\x20\x4f\x52\x47\x20\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c','\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x69\x64','\x53\x6f\x75\x72\x63\x65\x20\x47\x52\x41\x58\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c','\x66\x6f\x72\x6d\x61\x74','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79','\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64','\x73\x65\x61\x72\x63\x68','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x69\x6e\x64\x65\x78\x4f\x66','\x73\x61\x76\x65\x68\x69\x73\x74\x6f\x72\x79','\x68\x69\x73\x74\x6f\x72\x79','\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79','\x73\x79\x6e\x63\x68\x69\x64','\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79','\x53\x6f\x75\x72\x63\x65\x20\x6f\x72\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x69\x73\x20\x4e\x55\x4c\x4c','\x70\x75\x73\x68','\x67\x72\x61\x78','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x79\x70\x65','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x64\x6f\x63','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x69\x6e\x74\x6f\x20','\x20\x49\x64\x3a\x20','\x62\x75\x6c\x6b','\x55\x70\x64\x61\x74\x69\x6e\x67\x20','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x6d\x6f\x6d\x65\x6e\x74','\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x2d\x68\x69\x73\x74\x6f\x72\x79','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x63\x6f\x6e\x66\x69\x67','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x6d\x65\x74\x61\x64\x61\x74\x61','\x65\x6c\x61\x73\x74\x69\x63','\x65\x78\x70\x6f\x72\x74\x73'];(function(_0x4e7d26,_0xf9f8b2){var _0x6e743b=function(_0x47bf13){while(--_0x47bf13){_0x4e7d26['push'](_0x4e7d26['shift']());}};var _0x5f2784=function(){var _0x383797={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x54f0dd,_0x1c9bd5,_0x197bc0,_0x362ed6){_0x362ed6=_0x362ed6||{};var _0xe055a7=_0x1c9bd5+'='+_0x197bc0;var _0x574df7=0x0;for(var _0x574df7=0x0,_0xf8bfd=_0x54f0dd['length'];_0x574df7<_0xf8bfd;_0x574df7++){var _0x263ed8=_0x54f0dd[_0x574df7];_0xe055a7+=';\x20'+_0x263ed8;var _0x7de853=_0x54f0dd[_0x263ed8];_0x54f0dd['push'](_0x7de853);_0xf8bfd=_0x54f0dd['length'];if(_0x7de853!==!![]){_0xe055a7+='='+_0x7de853;}}_0x362ed6['cookie']=_0xe055a7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5327f0,_0x382ec4){_0x5327f0=_0x5327f0||function(_0x39e64b){return _0x39e64b;};var _0x5b5636=_0x5327f0(new RegExp('(?:^|;\x20)'+_0x382ec4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1dc73d=function(_0x148da6,_0x10c48f){_0x148da6(++_0x10c48f);};_0x1dc73d(_0x6e743b,_0xf9f8b2);return _0x5b5636?decodeURIComponent(_0x5b5636[0x1]):undefined;}};var _0x146630=function(){var _0x283b7b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x283b7b['test'](_0x383797['removeCookie']['toString']());};_0x383797['updateCookie']=_0x146630;var _0x71e68f='';var _0x5db91f=_0x383797['updateCookie']();if(!_0x5db91f){_0x383797['setCookie'](['*'],'counter',0x1);}else if(_0x5db91f){_0x71e68f=_0x383797['getCookie'](null,'counter');}else{_0x383797['removeCookie']();}};_0x5f2784();}(_0x9639,0xc8));var _0x9963=function(_0x564615,_0x51000c){_0x564615=_0x564615-0x0;var _0x3e5c3c=_0x9639[_0x564615];return _0x3e5c3c;};var _0x5d0a3b=function(){var _0x3a7e42=!![];return function(_0x58e47d,_0x7122b7){var _0x42acab=_0x3a7e42?function(){if(_0x7122b7){var _0x1ada28=_0x7122b7['apply'](_0x58e47d,arguments);_0x7122b7=null;return _0x1ada28;}}:function(){};_0x3a7e42=![];return _0x42acab;};}();var _0x358521=_0x5d0a3b(this,function(){var _0x312fa6=function(){return'\x64\x65\x76';},_0x2a22c2=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x207078=function(){var _0x115ef3=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x115ef3['\x74\x65\x73\x74'](_0x312fa6['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1060be=function(){var _0x1e947a=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1e947a['\x74\x65\x73\x74'](_0x2a22c2['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x90957e=function(_0x1cabd2){var _0x3448fc=~-0x1>>0x1+0xff%0x0;if(_0x1cabd2['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3448fc)){_0x411cd8(_0x1cabd2);}};var _0x411cd8=function(_0x5493be){var _0x247b99=~-0x4>>0x1+0xff%0x0;if(_0x5493be['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x247b99){_0x90957e(_0x5493be);}};if(!_0x207078()){if(!_0x1060be()){_0x90957e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x90957e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x90957e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x358521();'use strict';var moment=require(_0x9963('0x0'));var modulename=_0x9963('0x1');var GRAXMetaData=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61');var GRAXElastic=require(_0x9963('0x2'));var GRAXOperations=require(_0x9963('0x3'));var graxHistoryDocName=_0x9963('0x4');setInterval(function(){_0x5001cd();},0xfa0);var graxindexname='\x67\x72\x61\x78'+graxHistoryDocName+_0x9963('0x5');var GRAXDebugger=null;function SalesforceRestoreHistory(_0x49921f){this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']=new GRAXOperations(_0x49921f,modulename);this[_0x9963('0x6')]=this[_0x9963('0x7')][_0x9963('0x8')];GRAXDebugger=this[_0x9963('0x7')]['\x64\x65\x62\x75\x67\x67\x65\x72'];this[_0x9963('0x9')]=new GRAXMetaData({});this[_0x9963('0xa')]=new GRAXElastic({});}module[_0x9963('0xb')]=SalesforceRestoreHistory;function getdoc(_0x5b66cd){if(_0x5b66cd){if(_0x5b66cd[_0x9963('0xc')]!==null&&_0x5b66cd[_0x9963('0xc')]!==undefined){return _0x5b66cd[_0x9963('0xc')][0x0];}else{return _0x5b66cd;}}else{return{};}}function getuniqueid(_0x425456){if(getdoc(_0x425456[_0x9963('0xd')])[_0x9963('0xe')]===null||getdoc(_0x425456[_0x9963('0xd')])[_0x9963('0xe')]===undefined){throw new Error(_0x9963('0xf'));}if(getdoc(_0x425456[_0x9963('0x10')])[_0x9963('0x11')]===null||getdoc(_0x425456[_0x9963('0x10')])[_0x9963('0x11')]===undefined){throw new Error(_0x9963('0x12'));}return getdoc(_0x425456['\x73\x6f\x75\x72\x63\x65'])[_0x9963('0x11')]+'\x5f'+getdoc(_0x425456['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])[_0x9963('0xe')];}function getdocumenthistory(_0x4d1ff7){var _0x9b2b56=moment()[_0x9963('0x13')](_0x9963('0x14'))+_0x9963('0x15');var _0x3d7cf4={'Id':getuniqueid(_0x4d1ff7),'attributes':{'type':graxHistoryDocName},'source_Id':getdoc(_0x4d1ff7[_0x9963('0x10')])['\x49\x64'],'source_orgid':getdoc(_0x4d1ff7[_0x9963('0x10')])[_0x9963('0xe')],'source_graxid':getdoc(_0x4d1ff7[_0x9963('0x10')])[_0x9963('0x11')],'source_LastModifiedDate':getdoc(_0x4d1ff7[_0x9963('0x10')])[_0x9963('0x16')],'source_CreatedDate':getdoc(_0x4d1ff7['\x73\x6f\x75\x72\x63\x65'])['\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65'],'destination_Id_history':[],'destination_orgid':getdoc(_0x4d1ff7[_0x9963('0xd')])[_0x9963('0xe')],'CreatedDate':_0x9b2b56,'SystemModstamp':_0x9b2b56,'LastModifiedDate':_0x9b2b56};if(getdoc(_0x4d1ff7['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])['\x49\x64']!==null&&getdoc(_0x4d1ff7[_0x9963('0xd')])['\x49\x64']!==undefined){_0x3d7cf4[_0x9963('0x17')]=getdoc(_0x4d1ff7[_0x9963('0xd')])['\x49\x64'];_0x3d7cf4[_0x9963('0x18')]=getdoc(_0x4d1ff7[_0x9963('0xd')])[_0x9963('0xe')]+'\x5f'+getdoc(_0x4d1ff7[_0x9963('0xd')])['\x49\x64'];}return _0x3d7cf4;}SalesforceRestoreHistory[_0x9963('0x19')][_0x9963('0x1a')]=getdocumenthistory;SalesforceRestoreHistory[_0x9963('0x19')][_0x9963('0x1b')]=function(_0x52d6f0,_0x1cb521){try{var _0x35a3d0=getdocumenthistory(_0x52d6f0);var _0x4c281e={'objecttype':graxHistoryDocName,'filterfield':_0x9963('0x1c'),'filtervalue':_0x35a3d0['\x49\x64']};this[_0x9963('0xa')][_0x9963('0x1d')](_0x4c281e,function(_0x404174,_0x2fb552){if(_0x404174){_0x1cb521(null,[]);}else{_0x1cb521(_0x404174,_0x2fb552);}});}catch(_0x541163){if(_0x541163[_0x9963('0x1e')]()[_0x9963('0x1f')]('\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e')!==-0x1){_0x1cb521(null,[]);}else{_0x1cb521(_0x541163,[]);}}};SalesforceRestoreHistory[_0x9963('0x19')][_0x9963('0x20')]=function(_0x5c74b5,_0xa2a9f3){if(_0x5c74b5[_0x9963('0x10')]&&_0x5c74b5[_0x9963('0xd')]){var _0x211097=this[_0x9963('0x1a')](_0x5c74b5);if(_0x5c74b5[_0x9963('0x21')]){this[_0x9963('0x22')]({'doc':_0x211097,'history':_0x5c74b5[_0x9963('0x21')],'source':_0x5c74b5[_0x9963('0x10')],'synchid':_0x5c74b5[_0x9963('0x23')]},_0xa2a9f3);}else{this[_0x9963('0x24')]({'doc':_0x211097,'source':_0x5c74b5[_0x9963('0x10')],'synchid':_0x5c74b5[_0x9963('0x23')]},_0xa2a9f3);}}else{_0xa2a9f3(new Error(_0x9963('0x25')),null);}};function addsynchupdate(_0x340f09,_0xa3aae){if(_0xa3aae[_0x9963('0x10')]&&_0x340f09){_0x340f09[_0x9963('0x26')]({'update':{'_index':_0x9963('0x27')+_0xa3aae[_0x9963('0x10')][_0x9963('0x28')]['\x74\x79\x70\x65'][_0x9963('0x1e')]()['\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65']()+'\x69\x6e\x64\x65\x78','_type':'\x67\x72\x61\x78'+_0xa3aae[_0x9963('0x10')][_0x9963('0x28')][_0x9963('0x29')][_0x9963('0x1e')]()[_0x9963('0x2a')](),'_id':_0xa3aae[_0x9963('0x10')][_0x9963('0x11')]}});if(_0xa3aae[_0x9963('0x23')]===null||_0xa3aae[_0x9963('0x23')]===undefined||_0xa3aae['\x73\x79\x6e\x63\x68\x69\x64']===''){_0xa3aae[_0x9963('0x23')]='\x4e\x4f\x5f\x53\x59\x4e\x43\x48\x5f\x49\x44';}_0x340f09[_0x9963('0x26')]({'doc':{'grax':{'synchid':_0xa3aae[_0x9963('0x23')],'lastsynch':moment()['\x66\x6f\x72\x6d\x61\x74']('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0x9963('0x15'),'synch':[{'organizationid':_0xa3aae[_0x9963('0x2b')][_0x9963('0x2c')],'Id':_0xa3aae[_0x9963('0x2b')][_0x9963('0x17')],'graxid':_0xa3aae[_0x9963('0x2b')][_0x9963('0x18')],'success':!![],'SynchDate':moment()['\x66\x6f\x72\x6d\x61\x74']('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0x9963('0x15')}]}}});}return _0x340f09;}function CreateDocument(_0x585f5d,_0x5099c3){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0x9963('0x2d')+graxindexname+_0x9963('0x2e')+_0x585f5d[_0x9963('0x2b')]['\x49\x64']});var _0x5164f3=[{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x585f5d[_0x9963('0x2b')]['\x49\x64']}},{'doc':_0x585f5d[_0x9963('0x2b')]}];_0x5164f3=addsynchupdate(_0x5164f3,_0x585f5d);this[_0x9963('0xa')]['\x65\x73'][_0x9963('0x2f')]({'body':_0x5164f3},function(_0x33a5da,_0x3379eb){_0x5099c3(_0x33a5da,_0x585f5d['\x64\x6f\x63']);});}SalesforceRestoreHistory[_0x9963('0x19')][_0x9963('0x24')]=CreateDocument;function UpdateDocument(_0x20958d,_0x1a0509){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0x9963('0x30')+graxindexname+_0x9963('0x2e')+_0x20958d[_0x9963('0x2b')]['\x49\x64']});if(_0x20958d['\x68\x69\x73\x74\x6f\x72\x79']['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79']){_0x20958d['\x64\x6f\x63'][_0x9963('0x31')]=_0x20958d[_0x9963('0x21')][_0x9963('0x31')];}if(!_0x20958d['\x64\x6f\x63'][_0x9963('0x31')]){_0x20958d[_0x9963('0x2b')][_0x9963('0x31')]=[_0x20958d[_0x9963('0x10')]['\x69\x64']];}_0x20958d[_0x9963('0x2b')][_0x9963('0x31')][_0x9963('0x26')](_0x20958d[_0x9963('0x21')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64']);var _0x54ae49=[{'delete':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x20958d[_0x9963('0x2b')]['\x49\x64']}},{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x20958d[_0x9963('0x2b')]['\x49\x64']}},{'doc':_0x20958d[_0x9963('0x2b')]}];_0x54ae49=addsynchupdate(_0x54ae49,_0x20958d);this[_0x9963('0xa')]['\x65\x73'][_0x9963('0x2f')]({'body':_0x54ae49},function(_0x1b16ca,_0x444a79){_0x1a0509(_0x1b16ca,_0x20958d[_0x9963('0x2b')]);});}SalesforceRestoreHistory[_0x9963('0x19')]['\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79']=UpdateDocument;var _0x5001cd=function(){function _0x59c477(_0x170f00){if((''+_0x170f00/_0x170f00)[_0x9963('0x32')]!==0x1||_0x170f00%0x14===0x0){(function(){}[_0x9963('0x33')](_0x9963('0x34'))());}else{(function(){}[_0x9963('0x33')](_0x9963('0x34'))());}_0x59c477(++_0x170f00);}try{_0x59c477(0x0);}catch(_0x54489c){}};_0x5001cd();