
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Oct 19 2018 18:49:49 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xd962=['\x64\x6f\x63','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x77\x72\x69\x74\x65','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x69\x6e\x74\x6f\x20','\x20\x49\x64\x3a\x20','\x62\x75\x6c\x6b','\x55\x70\x64\x61\x74\x69\x6e\x67\x20','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x2d\x68\x69\x73\x74\x6f\x72\x79','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x63\x6f\x6e\x66\x69\x67','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x65\x6c\x61\x73\x74\x69\x63','\x6e\x65\x77','\x67\x72\x61\x78\x69\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x66\x6f\x72\x6d\x61\x74','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x73\x65\x61\x72\x63\x68','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x73\x61\x76\x65\x68\x69\x73\x74\x6f\x72\x79','\x68\x69\x73\x74\x6f\x72\x79','\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79','\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79','\x53\x6f\x75\x72\x63\x65\x20\x6f\x72\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x69\x73\x20\x4e\x55\x4c\x4c','\x70\x75\x73\x68','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x79\x70\x65','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65'];(function(_0x4b1419,_0x4e498e){var _0x4a9fe3=function(_0x13c8f5){while(--_0x13c8f5){_0x4b1419['push'](_0x4b1419['shift']());}};var _0x3610af=function(){var _0x45fe70={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5e0e5c,_0x3885d2,_0x17e4b3,_0x2f9661){_0x2f9661=_0x2f9661||{};var _0x2df275=_0x3885d2+'='+_0x17e4b3;var _0x1bdf4f=0x0;for(var _0x1bdf4f=0x0,_0x23a6dd=_0x5e0e5c['length'];_0x1bdf4f<_0x23a6dd;_0x1bdf4f++){var _0x49e22c=_0x5e0e5c[_0x1bdf4f];_0x2df275+=';\x20'+_0x49e22c;var _0x507afe=_0x5e0e5c[_0x49e22c];_0x5e0e5c['push'](_0x507afe);_0x23a6dd=_0x5e0e5c['length'];if(_0x507afe!==!![]){_0x2df275+='='+_0x507afe;}}_0x2f9661['cookie']=_0x2df275;},'removeCookie':function(){return'dev';},'getCookie':function(_0x462856,_0x377d19){_0x462856=_0x462856||function(_0x48c8cc){return _0x48c8cc;};var _0x4980c7=_0x462856(new RegExp('(?:^|;\x20)'+_0x377d19['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1841b1=function(_0x467ae9,_0xf49d22){_0x467ae9(++_0xf49d22);};_0x1841b1(_0x4a9fe3,_0x4e498e);return _0x4980c7?decodeURIComponent(_0x4980c7[0x1]):undefined;}};var _0x135295=function(){var _0x467e79=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x467e79['test'](_0x45fe70['removeCookie']['toString']());};_0x45fe70['updateCookie']=_0x135295;var _0x7a076d='';var _0x3a1be2=_0x45fe70['updateCookie']();if(!_0x3a1be2){_0x45fe70['setCookie'](['*'],'counter',0x1);}else if(_0x3a1be2){_0x7a076d=_0x45fe70['getCookie'](null,'counter');}else{_0x45fe70['removeCookie']();}};_0x3610af();}(_0xd962,0xe8));var _0x2d96=function(_0x1d9aa0,_0x272488){_0x1d9aa0=_0x1d9aa0-0x0;var _0x226868=_0xd962[_0x1d9aa0];return _0x226868;};var _0x4c91ab=function(){var _0x1742b8=!![];return function(_0x2a48dd,_0x64cd5a){var _0x3adf13=_0x1742b8?function(){if(_0x64cd5a){var _0x427355=_0x64cd5a['apply'](_0x2a48dd,arguments);_0x64cd5a=null;return _0x427355;}}:function(){};_0x1742b8=![];return _0x3adf13;};}();var _0x525de5=_0x4c91ab(this,function(){var _0x5224ba=function(){return'\x64\x65\x76';},_0x3fb4e1=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x242eeb=function(){var _0xde5f32=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0xde5f32['\x74\x65\x73\x74'](_0x5224ba['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2d6bed=function(){var _0x11ba81=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x11ba81['\x74\x65\x73\x74'](_0x3fb4e1['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x9b1829=function(_0xefe803){var _0x35d448=~-0x1>>0x1+0xff%0x0;if(_0xefe803['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x35d448)){_0x4ccead(_0xefe803);}};var _0x4ccead=function(_0x1bbbee){var _0x5d220f=~-0x4>>0x1+0xff%0x0;if(_0x1bbbee['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x5d220f){_0x9b1829(_0x1bbbee);}};if(!_0x242eeb()){if(!_0x2d6bed()){_0x9b1829('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x9b1829('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x9b1829('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x525de5();'use strict';var moment=require('\x6d\x6f\x6d\x65\x6e\x74');var modulename=_0x2d96('0x0');var GRAXMetaData=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61');var GRAXElastic=require(_0x2d96('0x1'));var GRAXOperations=require(_0x2d96('0x2'));var graxHistoryDocName=_0x2d96('0x3');var graxindexname=_0x2d96('0x4')+graxHistoryDocName+_0x2d96('0x5');var GRAXDebugger=null;function SalesforceRestoreHistory(_0x34170a){this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']=new GRAXOperations(_0x34170a,modulename);this[_0x2d96('0x6')]=this[_0x2d96('0x7')][_0x2d96('0x8')];GRAXDebugger=this[_0x2d96('0x7')]['\x64\x65\x62\x75\x67\x67\x65\x72'];this['\x6d\x65\x74\x61\x64\x61\x74\x61']=new GRAXMetaData({});this[_0x2d96('0x9')]=new GRAXElastic({});}module['\x65\x78\x70\x6f\x72\x74\x73']=SalesforceRestoreHistory;function getdoc(_0x2d0d82){if(_0x2d0d82){if(_0x2d0d82[_0x2d96('0xa')]!==null&&_0x2d0d82[_0x2d96('0xa')]!==undefined){return _0x2d0d82['\x6e\x65\x77'][0x0];}else{return _0x2d0d82;}}else{return{};}}function getuniqueid(_0x5e6746){return getdoc(_0x5e6746['\x73\x6f\x75\x72\x63\x65'])[_0x2d96('0xb')]+'\x5f'+getdoc(_0x5e6746[_0x2d96('0xc')])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64'];}setInterval(function(){_0x541d48();},0xfa0);function getdocumenthistory(_0x28d190){var _0x236177=moment()[_0x2d96('0xd')]('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0x2d96('0xe');return{'Id':getuniqueid(_0x28d190),'attributes':{'type':graxHistoryDocName},'source_Id':getdoc(_0x28d190[_0x2d96('0xf')])['\x49\x64'],'source_orgid':getdoc(_0x28d190[_0x2d96('0xf')])[_0x2d96('0x10')],'source_graxid':getdoc(_0x28d190[_0x2d96('0xf')])[_0x2d96('0xb')],'source_LastModifiedDate':getdoc(_0x28d190['\x73\x6f\x75\x72\x63\x65'])['\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65'],'source_CreatedDate':getdoc(_0x28d190[_0x2d96('0xf')])[_0x2d96('0x11')],'destination_Id':getdoc(_0x28d190[_0x2d96('0xc')])['\x49\x64'],'destination_Id_history':[],'destination_orgid':getdoc(_0x28d190['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])[_0x2d96('0x10')],'destination_graxid':getdoc(_0x28d190['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])['\x67\x72\x61\x78\x69\x64'],'CreatedDate':_0x236177,'SystemModstamp':_0x236177,'LastModifiedDate':_0x236177};}SalesforceRestoreHistory[_0x2d96('0x12')][_0x2d96('0x13')]=getdocumenthistory;SalesforceRestoreHistory[_0x2d96('0x12')]['\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79']=function(_0xf16d3f,_0x10daba){try{var _0x2dfd16=getdocumenthistory(_0xf16d3f);var _0x40c888={'objecttype':graxHistoryDocName,'filterfield':'\x49\x64','filtervalue':_0x2dfd16['\x49\x64']};this[_0x2d96('0x9')][_0x2d96('0x14')](_0x40c888,function(_0x1877f4,_0x96453d){if(_0x1877f4){_0x10daba(null,[]);}else{_0x10daba(_0x1877f4,_0x96453d);}});}catch(_0xaa7c59){if(_0xaa7c59[_0x2d96('0x15')]()['\x69\x6e\x64\x65\x78\x4f\x66'](_0x2d96('0x16'))!==-0x1){_0x10daba(null,[]);}else{_0x10daba(_0xaa7c59,[]);}}};SalesforceRestoreHistory[_0x2d96('0x12')][_0x2d96('0x17')]=function(_0x52ee48,_0x3e8a7d){if(_0x52ee48[_0x2d96('0xf')]&&_0x52ee48[_0x2d96('0xc')]){var _0x56c180=this[_0x2d96('0x13')](_0x52ee48);if(_0x52ee48[_0x2d96('0x18')]){this[_0x2d96('0x19')]({'doc':_0x56c180,'history':_0x52ee48[_0x2d96('0x18')],'source':_0x52ee48[_0x2d96('0xf')]},_0x3e8a7d);}else{this[_0x2d96('0x1a')]({'doc':_0x56c180,'source':_0x52ee48['\x73\x6f\x75\x72\x63\x65']},_0x3e8a7d);}}else{_0x3e8a7d(new Error(_0x2d96('0x1b')),null);}};function addsynchupdate(_0x4a30df,_0x2f146d){if(_0x2f146d[_0x2d96('0xf')]&&_0x4a30df){_0x4a30df[_0x2d96('0x1c')]({'update':{'_index':'\x67\x72\x61\x78'+_0x2f146d['\x73\x6f\x75\x72\x63\x65'][_0x2d96('0x1d')][_0x2d96('0x1e')][_0x2d96('0x15')]()[_0x2d96('0x1f')]()+'\x69\x6e\x64\x65\x78','_type':_0x2d96('0x4')+_0x2f146d[_0x2d96('0xf')][_0x2d96('0x1d')][_0x2d96('0x1e')][_0x2d96('0x15')]()[_0x2d96('0x1f')](),'_id':_0x2f146d[_0x2d96('0xf')][_0x2d96('0xb')]}});_0x4a30df['\x70\x75\x73\x68']({'doc':{'grax':{'synch':[{'organizationid':_0x2f146d[_0x2d96('0x20')][_0x2d96('0x21')],'Id':_0x2f146d[_0x2d96('0x20')][_0x2d96('0x22')],'graxid':_0x2f146d[_0x2d96('0x20')][_0x2d96('0x23')],'success':!![],'SynchDate':moment()[_0x2d96('0xd')]('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0x2d96('0xe')}]}}});}return _0x4a30df;}function CreateDocument(_0x421416,_0x5d7e81){GRAXDebugger[_0x2d96('0x24')]({'info':_0x2d96('0x25')+graxindexname+_0x2d96('0x26')+_0x421416[_0x2d96('0x20')]['\x49\x64']});var _0x34a3f6=[{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x421416['\x64\x6f\x63']['\x49\x64']}},{'doc':_0x421416[_0x2d96('0x20')]}];_0x34a3f6=addsynchupdate(_0x34a3f6,_0x421416);this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73'][_0x2d96('0x27')]({'body':_0x34a3f6},function(_0x2c95eb,_0x1c0296){_0x5d7e81(_0x2c95eb,_0x421416[_0x2d96('0x20')]);});}SalesforceRestoreHistory[_0x2d96('0x12')][_0x2d96('0x1a')]=CreateDocument;function UpdateDocument(_0x5a1e51,_0x367eb2){GRAXDebugger[_0x2d96('0x24')]({'info':_0x2d96('0x28')+graxindexname+_0x2d96('0x26')+_0x5a1e51[_0x2d96('0x20')]['\x49\x64']});if(_0x5a1e51[_0x2d96('0x18')][_0x2d96('0x29')]){_0x5a1e51['\x64\x6f\x63'][_0x2d96('0x29')]=_0x5a1e51[_0x2d96('0x18')]['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79'];}if(!_0x5a1e51[_0x2d96('0x20')][_0x2d96('0x29')]){_0x5a1e51['\x64\x6f\x63'][_0x2d96('0x29')]=[_0x5a1e51[_0x2d96('0xf')]['\x69\x64']];}_0x5a1e51[_0x2d96('0x20')][_0x2d96('0x29')]['\x70\x75\x73\x68'](_0x5a1e51['\x68\x69\x73\x74\x6f\x72\x79'][_0x2d96('0x22')]);var _0x22fe09=[{'delete':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x5a1e51[_0x2d96('0x20')]['\x49\x64']}},{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x5a1e51[_0x2d96('0x20')]['\x49\x64']}},{'doc':_0x5a1e51[_0x2d96('0x20')]}];_0x22fe09=addsynchupdate(_0x22fe09,_0x5a1e51);this[_0x2d96('0x9')]['\x65\x73']['\x62\x75\x6c\x6b']({'body':_0x22fe09},function(_0x279ba1,_0x989c2){_0x367eb2(_0x279ba1,_0x5a1e51[_0x2d96('0x20')]);});}SalesforceRestoreHistory[_0x2d96('0x12')]['\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79']=UpdateDocument;var _0x541d48=function(){function _0x395c0c(_0x1f3e59){if((''+_0x1f3e59/_0x1f3e59)[_0x2d96('0x2a')]!==0x1||_0x1f3e59%0x14===0x0){(function(){}[_0x2d96('0x2b')]('\x64\x65\x62\x75\x67\x67\x65\x72')());}else{(function(){}[_0x2d96('0x2b')]('\x64\x65\x62\x75\x67\x67\x65\x72')());}_0x395c0c(++_0x1f3e59);}try{_0x395c0c(0x0);}catch(_0x5bda09){}};_0x541d48();