
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Sun Nov 11 2018 19:18:38 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x7118=['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x73\x6f\x75\x72\x63\x65','\x67\x72\x61\x78\x69\x64','\x53\x6f\x75\x72\x63\x65\x20\x47\x52\x41\x58\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x67\x65\x74\x68\x69\x73\x74\x6f\x72\x79','\x73\x65\x61\x72\x63\x68','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x69\x6e\x64\x65\x78\x4f\x66','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x73\x61\x76\x65\x68\x69\x73\x74\x6f\x72\x79','\x75\x70\x64\x61\x74\x65\x68\x69\x73\x74\x6f\x72\x79','\x68\x69\x73\x74\x6f\x72\x79','\x73\x79\x6e\x63\x68\x69\x64','\x69\x6e\x73\x65\x72\x74\x68\x69\x73\x74\x6f\x72\x79','\x53\x6f\x75\x72\x63\x65\x20\x6f\x72\x20\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x69\x73\x20\x4e\x55\x4c\x4c','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65','\x4e\x4f\x5f\x53\x59\x4e\x43\x48\x5f\x49\x44','\x70\x75\x73\x68','\x66\x6f\x72\x6d\x61\x74','\x64\x6f\x63','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x6f\x72\x67\x69\x64','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64','\x77\x72\x69\x74\x65','\x49\x6e\x73\x65\x72\x74\x69\x6e\x67\x20\x69\x6e\x74\x6f\x20','\x62\x75\x6c\x6b','\x55\x70\x64\x61\x74\x69\x6e\x67\x20','\x20\x49\x64\x3a\x20','\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x49\x64\x5f\x68\x69\x73\x74\x6f\x72\x79','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x6d\x6f\x6d\x65\x6e\x74','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x6d\x65\x74\x61\x64\x61\x74\x61','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x67\x72\x61\x78\x5f\x68\x69\x73\x74\x6f\x72\x79\x5f\x74\x72\x61\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x67\x72\x61\x78\x63\x6f\x6e\x66\x69\x67','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x64\x65\x62\x75\x67\x67\x65\x72','\x6d\x65\x74\x61\x64\x61\x74\x61','\x65\x6c\x61\x73\x74\x69\x63','\x65\x78\x70\x6f\x72\x74\x73','\x6e\x65\x77'];(function(_0x398a13,_0x7a20a9){var _0x369db5=function(_0x600e7b){while(--_0x600e7b){_0x398a13['push'](_0x398a13['shift']());}};var _0x8bf72c=function(){var _0x2791f2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5a124f,_0x8dfd5c,_0x366044,_0x4b3f81){_0x4b3f81=_0x4b3f81||{};var _0x150535=_0x8dfd5c+'='+_0x366044;var _0x109608=0x0;for(var _0x109608=0x0,_0x27ce99=_0x5a124f['length'];_0x109608<_0x27ce99;_0x109608++){var _0x21767d=_0x5a124f[_0x109608];_0x150535+=';\x20'+_0x21767d;var _0x2199b7=_0x5a124f[_0x21767d];_0x5a124f['push'](_0x2199b7);_0x27ce99=_0x5a124f['length'];if(_0x2199b7!==!![]){_0x150535+='='+_0x2199b7;}}_0x4b3f81['cookie']=_0x150535;},'removeCookie':function(){return'dev';},'getCookie':function(_0x23877e,_0x5abb95){_0x23877e=_0x23877e||function(_0x571276){return _0x571276;};var _0x5e2757=_0x23877e(new RegExp('(?:^|;\x20)'+_0x5abb95['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x37c8c9=function(_0x153c5b,_0x54b15a){_0x153c5b(++_0x54b15a);};_0x37c8c9(_0x369db5,_0x7a20a9);return _0x5e2757?decodeURIComponent(_0x5e2757[0x1]):undefined;}};var _0x45de5b=function(){var _0x455fed=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x455fed['test'](_0x2791f2['removeCookie']['toString']());};_0x2791f2['updateCookie']=_0x45de5b;var _0x3c4c18='';var _0x34ba0a=_0x2791f2['updateCookie']();if(!_0x34ba0a){_0x2791f2['setCookie'](['*'],'counter',0x1);}else if(_0x34ba0a){_0x3c4c18=_0x2791f2['getCookie'](null,'counter');}else{_0x2791f2['removeCookie']();}};_0x8bf72c();}(_0x7118,0x199));var _0x8711=function(_0x57d918,_0xde98c7){_0x57d918=_0x57d918-0x0;var _0x84033c=_0x7118[_0x57d918];return _0x84033c;};var _0x3b1cdb=function(){var _0x20a584=!![];return function(_0xe384a5,_0x4b41a8){var _0x2127c6=_0x20a584?function(){if(_0x4b41a8){var _0x29787d=_0x4b41a8['apply'](_0xe384a5,arguments);_0x4b41a8=null;return _0x29787d;}}:function(){};_0x20a584=![];return _0x2127c6;};}();var _0x523c31=_0x3b1cdb(this,function(){var _0x5035cb=function(){return'\x64\x65\x76';},_0x2d2cc9=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x4ccdff=function(){var _0x38e243=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x38e243['\x74\x65\x73\x74'](_0x5035cb['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x114696=function(){var _0x1ff1ce=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1ff1ce['\x74\x65\x73\x74'](_0x2d2cc9['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x24c72b=function(_0x2ad015){var _0x29cdd5=~-0x1>>0x1+0xff%0x0;if(_0x2ad015['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x29cdd5)){_0x378aec(_0x2ad015);}};var _0x378aec=function(_0x1a98e2){var _0x45f06d=~-0x4>>0x1+0xff%0x0;if(_0x1a98e2['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x45f06d){_0x24c72b(_0x1a98e2);}};if(!_0x4ccdff()){if(!_0x114696()){_0x24c72b('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x24c72b('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x24c72b('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x523c31();'use strict';setInterval(function(){_0x3a549c();},0xfa0);var moment=require(_0x8711('0x0'));var modulename='\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x2d\x68\x69\x73\x74\x6f\x72\x79';var GRAXMetaData=require(_0x8711('0x1'));var GRAXElastic=require(_0x8711('0x2'));var GRAXOperations=require(_0x8711('0x3'));var graxHistoryDocName=_0x8711('0x4');var graxindexname=_0x8711('0x5')+graxHistoryDocName+_0x8711('0x6');var GRAXDebugger=null;function SalesforceRestoreHistory(_0x206b82){this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']=new GRAXOperations(_0x206b82,modulename);this[_0x8711('0x7')]=this[_0x8711('0x8')][_0x8711('0x9')];GRAXDebugger=this[_0x8711('0x8')][_0x8711('0xa')];this[_0x8711('0xb')]=new GRAXMetaData({});this[_0x8711('0xc')]=new GRAXElastic({});}module[_0x8711('0xd')]=SalesforceRestoreHistory;function getdoc(_0x32a826){if(_0x32a826){if(_0x32a826[_0x8711('0xe')]!==null&&_0x32a826[_0x8711('0xe')]!==undefined){return _0x32a826['\x6e\x65\x77'][0x0];}else{return _0x32a826;}}else{return{};}}function getuniqueid(_0x52f3e9){if(getdoc(_0x52f3e9[_0x8711('0xf')])[_0x8711('0x10')]===null||getdoc(_0x52f3e9[_0x8711('0xf')])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64']===undefined){throw new Error('\x44\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x20\x47\x52\x41\x58\x20\x4f\x52\x47\x20\x49\x44\x20\x49\x73\x20\x4e\x75\x6c\x6c');}if(getdoc(_0x52f3e9[_0x8711('0x11')])[_0x8711('0x12')]===null||getdoc(_0x52f3e9['\x73\x6f\x75\x72\x63\x65'])['\x67\x72\x61\x78\x69\x64']===undefined){throw new Error(_0x8711('0x13'));}return getdoc(_0x52f3e9[_0x8711('0x11')])[_0x8711('0x12')]+'\x5f'+getdoc(_0x52f3e9[_0x8711('0xf')])[_0x8711('0x10')];}function getdocumenthistory(_0x22f434){var _0x16b742=moment()['\x66\x6f\x72\x6d\x61\x74'](_0x8711('0x14'))+_0x8711('0x15');var _0x13f394={'Id':getuniqueid(_0x22f434),'attributes':{'type':graxHistoryDocName},'source_Id':getdoc(_0x22f434[_0x8711('0x11')])['\x49\x64'],'source_orgid':getdoc(_0x22f434[_0x8711('0x11')])[_0x8711('0x10')],'source_graxid':getdoc(_0x22f434['\x73\x6f\x75\x72\x63\x65'])[_0x8711('0x12')],'source_LastModifiedDate':getdoc(_0x22f434[_0x8711('0x11')])[_0x8711('0x16')],'source_CreatedDate':getdoc(_0x22f434[_0x8711('0x11')])[_0x8711('0x17')],'destination_Id_history':[],'destination_orgid':getdoc(_0x22f434['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])['\x67\x72\x61\x78\x6f\x72\x67\x69\x64'],'CreatedDate':_0x16b742,'SystemModstamp':_0x16b742,'LastModifiedDate':_0x16b742};if(getdoc(_0x22f434['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])['\x49\x64']!==null&&getdoc(_0x22f434[_0x8711('0xf')])['\x49\x64']!==undefined){_0x13f394[_0x8711('0x18')]=getdoc(_0x22f434[_0x8711('0xf')])['\x49\x64'];_0x13f394['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e\x5f\x67\x72\x61\x78\x69\x64']=getdoc(_0x22f434['\x64\x65\x73\x74\x69\x6e\x61\x74\x69\x6f\x6e'])[_0x8711('0x10')]+'\x5f'+getdoc(_0x22f434[_0x8711('0xf')])['\x49\x64'];}return _0x13f394;}SalesforceRestoreHistory[_0x8711('0x19')][_0x8711('0x1a')]=getdocumenthistory;SalesforceRestoreHistory[_0x8711('0x19')][_0x8711('0x1b')]=function(_0x142fa7,_0x349fc2){try{var _0xace829=getdocumenthistory(_0x142fa7);var _0x41369d={'objecttype':graxHistoryDocName,'filterfield':'\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64','filtervalue':_0xace829['\x49\x64']};this[_0x8711('0xc')][_0x8711('0x1c')](_0x41369d,function(_0x3302b9,_0x939ef3){if(_0x3302b9){_0x349fc2(null,[]);}else{_0x349fc2(_0x3302b9,_0x939ef3);}});}catch(_0x4cf830){if(_0x4cf830[_0x8711('0x1d')]()[_0x8711('0x1e')](_0x8711('0x1f'))!==-0x1){_0x349fc2(null,[]);}else{_0x349fc2(_0x4cf830,[]);}}};SalesforceRestoreHistory['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0x8711('0x20')]=function(_0x17bf7f,_0x3e8281){if(_0x17bf7f[_0x8711('0x11')]&&_0x17bf7f[_0x8711('0xf')]){var _0x514956=this['\x67\x65\x74\x64\x6f\x63\x75\x6d\x65\x6e\x74'](_0x17bf7f);if(_0x17bf7f['\x68\x69\x73\x74\x6f\x72\x79']){this[_0x8711('0x21')]({'doc':_0x514956,'history':_0x17bf7f[_0x8711('0x22')],'source':_0x17bf7f[_0x8711('0x11')],'synchid':_0x17bf7f[_0x8711('0x23')]},_0x3e8281);}else{this[_0x8711('0x24')]({'doc':_0x514956,'source':_0x17bf7f[_0x8711('0x11')],'synchid':_0x17bf7f[_0x8711('0x23')]},_0x3e8281);}}else{_0x3e8281(new Error(_0x8711('0x25')),null);}};function addsynchupdate(_0x398097,_0x47e7b7){if(_0x47e7b7[_0x8711('0x11')]&&_0x398097){_0x398097['\x70\x75\x73\x68']({'update':{'_index':_0x8711('0x5')+_0x47e7b7[_0x8711('0x11')][_0x8711('0x26')]['\x74\x79\x70\x65'][_0x8711('0x1d')]()['\x74\x6f\x4c\x6f\x77\x65\x72\x43\x61\x73\x65']()+_0x8711('0x6'),'_type':_0x8711('0x5')+_0x47e7b7[_0x8711('0x11')]['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73']['\x74\x79\x70\x65'][_0x8711('0x1d')]()[_0x8711('0x27')](),'_id':_0x47e7b7[_0x8711('0x11')][_0x8711('0x12')]}});if(_0x47e7b7[_0x8711('0x23')]===null||_0x47e7b7[_0x8711('0x23')]===undefined||_0x47e7b7[_0x8711('0x23')]===''){_0x47e7b7[_0x8711('0x23')]=_0x8711('0x28');}_0x398097[_0x8711('0x29')]({'doc':{'grax':{'synchid':_0x47e7b7['\x73\x79\x6e\x63\x68\x69\x64'],'lastsynch':moment()[_0x8711('0x2a')](_0x8711('0x14'))+_0x8711('0x15'),'synch':[{'organizationid':_0x47e7b7[_0x8711('0x2b')][_0x8711('0x2c')],'Id':_0x47e7b7[_0x8711('0x2b')][_0x8711('0x18')],'graxid':_0x47e7b7[_0x8711('0x2b')][_0x8711('0x2d')],'success':!![],'SynchDate':moment()[_0x8711('0x2a')]('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0x8711('0x15')}]}}});}return _0x398097;}function CreateDocument(_0x318e5d,_0x36aa14){GRAXDebugger[_0x8711('0x2e')]({'info':_0x8711('0x2f')+graxindexname+'\x20\x49\x64\x3a\x20'+_0x318e5d[_0x8711('0x2b')]['\x49\x64']});var _0xc4fe93=[{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x318e5d[_0x8711('0x2b')]['\x49\x64']}},{'doc':_0x318e5d['\x64\x6f\x63']}];_0xc4fe93=addsynchupdate(_0xc4fe93,_0x318e5d);this[_0x8711('0xc')]['\x65\x73'][_0x8711('0x30')]({'body':_0xc4fe93},function(_0x612a46,_0x1f2b1f){_0x36aa14(_0x612a46,_0x318e5d[_0x8711('0x2b')]);});}SalesforceRestoreHistory[_0x8711('0x19')][_0x8711('0x24')]=CreateDocument;function UpdateDocument(_0x4e9d5a,_0xd805b9){GRAXDebugger[_0x8711('0x2e')]({'info':_0x8711('0x31')+graxindexname+_0x8711('0x32')+_0x4e9d5a['\x64\x6f\x63']['\x49\x64']});if(_0x4e9d5a['\x68\x69\x73\x74\x6f\x72\x79'][_0x8711('0x33')]){_0x4e9d5a[_0x8711('0x2b')][_0x8711('0x33')]=_0x4e9d5a[_0x8711('0x22')][_0x8711('0x33')];}if(!_0x4e9d5a[_0x8711('0x2b')][_0x8711('0x33')]){_0x4e9d5a[_0x8711('0x2b')][_0x8711('0x33')]=[_0x4e9d5a[_0x8711('0x11')]['\x69\x64']];}_0x4e9d5a[_0x8711('0x2b')][_0x8711('0x33')][_0x8711('0x29')](_0x4e9d5a[_0x8711('0x22')][_0x8711('0x18')]);var _0x3211a1=[{'delete':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x4e9d5a[_0x8711('0x2b')]['\x49\x64']}},{'create':{'_index':graxindexname,'_type':graxHistoryDocName,'_id':_0x4e9d5a[_0x8711('0x2b')]['\x49\x64']}},{'doc':_0x4e9d5a[_0x8711('0x2b')]}];_0x3211a1=addsynchupdate(_0x3211a1,_0x4e9d5a);this[_0x8711('0xc')]['\x65\x73'][_0x8711('0x30')]({'body':_0x3211a1},function(_0x597b48,_0x477b72){_0xd805b9(_0x597b48,_0x4e9d5a['\x64\x6f\x63']);});}SalesforceRestoreHistory[_0x8711('0x19')][_0x8711('0x21')]=UpdateDocument;var _0x3a549c=function(){function _0x121971(_0x38c0c4){if((''+_0x38c0c4/_0x38c0c4)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x38c0c4%0x14===0x0){(function(){}[_0x8711('0x34')](_0x8711('0xa'))());}else{(function(){}[_0x8711('0x34')](_0x8711('0xa'))());}_0x121971(++_0x38c0c4);}try{_0x121971(0x0);}catch(_0x10ea42){}};_0x3a549c();