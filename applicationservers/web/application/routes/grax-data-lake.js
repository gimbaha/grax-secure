
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Sep 28 2018 15:40:20 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x9d8c=['\x49\x64\x2c\x4e\x61\x6d\x65\x2c\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65\x2c\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65\x2c\x67\x72\x61\x78\x6f\x72\x67\x69\x64\x2c\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73\x2e\x74\x79\x70\x65\x2c\x49\x73\x44\x65\x6c\x65\x74\x65\x64','\x71\x75\x65\x72\x79','\x64\x6f\x63\x2e\x4e\x61\x6d\x65\x3a','\x49\x73\x44\x65\x6c\x65\x74\x65\x64','\x77\x72\x69\x74\x65','\x73\x74\x72\x69\x6e\x67\x69\x66\x79','\x20\x41\x4e\x44\x20\x28','\x71\x75\x65\x72\x79\x66\x69\x6c\x74\x65\x72','\x2e\x52\x65\x66\x72\x65\x73\x68\x44\x61\x74\x61','\x43\x6c\x69\x65\x6e\x74\x20\x46\x69\x6c\x74\x65\x72\x3a\x20','\x6a\x73\x6f\x6e','\x70\x61\x72\x61\x6d\x73','\x73\x65\x73\x73\x69\x6f\x6e\x69\x64','\x65\x6e\x64\x70\x6f\x69\x6e\x74','\x2e\x47\x65\x74\x53\x65\x63\x75\x72\x69\x74\x79\x43\x72\x65\x64\x65\x6e\x74\x69\x61\x6c\x73','\x53\x65\x63\x75\x72\x69\x74\x79\x3a\x20','\x67\x65\x74','\x44\x65\x66\x61\x75\x6c\x74','\x70\x6f\x73\x74','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x62\x6f\x64\x79','\x74\x79\x70\x65','\x67\x72\x61\x78\x6f\x72\x67\x69\x64','\x52\x65\x73\x74\x6f\x72\x69\x6e\x67\x20\x49\x64\x3a\x20','\x20\x4f\x72\x67\x49\x44\x3a\x20','\x20\x54\x79\x70\x65\x3a\x20','\x72\x65\x73\x74\x6f\x72\x65\x6f\x62\x6a\x65\x63\x74','\x67\x72\x61\x78\x52\x65\x73\x74\x6f\x72\x65\x2e\x72\x65\x73\x74\x6f\x72\x65\x6f\x62\x6a\x65\x63\x74\x20\x46\x61\x69\x6c\x65\x64\x20','\x49\x6e\x73\x65\x72\x74\x20\x48\x61\x6e\x64\x6c\x65\x72','\x70\x75\x74','\x55\x70\x64\x61\x74\x65\x20\x48\x61\x6e\x64\x6c\x65\x72','\x44\x65\x6c\x65\x74\x65\x20\x48\x61\x6e\x64\x6c\x65\x72','\x20\x3a\x20\x72\x65\x71\x2e\x75\x72\x6c\x20\x3a','\x20\x3a\x20\x72\x65\x71\x2e\x70\x61\x72\x61\x6d\x73\x20\x3a','\x20\x3a\x20\x72\x65\x71\x2e\x71\x75\x65\x72\x79\x20\x3a','\x20\x3a\x20\x72\x65\x71\x2e\x62\x6f\x64\x79\x20\x3a','\x2f\x67\x65\x74\x74\x79\x70\x65\x73','\x67\x65\x74\x66\x69\x65\x6c\x64\x74\x79\x70\x65\x73','\x65\x78\x70\x6f\x72\x74\x73','\x6c\x65\x6e\x67\x74\x68','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x65\x78\x70\x72\x65\x73\x73','\x75\x72\x6c','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x67\x6c\x6f\x62\x61\x6c\x73','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x6c\x69\x62\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x72\x65\x73\x74\x6f\x72\x65','\x67\x72\x61\x78\x2d\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x72\x65\x73\x74\x6f\x72\x65','\x4e\x61\x6d\x65','\x41\x63\x63\x6f\x75\x6e\x74'];(function(_0x14ca1f,_0x2e51d1){var _0x2ec3e3=function(_0x55db77){while(--_0x55db77){_0x14ca1f['push'](_0x14ca1f['shift']());}};var _0x11a89c=function(){var _0x2f23a4={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2e8dd4,_0x3c382b,_0x4441c8,_0x4b2562){_0x4b2562=_0x4b2562||{};var _0x3ad3c9=_0x3c382b+'='+_0x4441c8;var _0x44fddf=0x0;for(var _0x44fddf=0x0,_0x29adb3=_0x2e8dd4['length'];_0x44fddf<_0x29adb3;_0x44fddf++){var _0x155682=_0x2e8dd4[_0x44fddf];_0x3ad3c9+=';\x20'+_0x155682;var _0x473d19=_0x2e8dd4[_0x155682];_0x2e8dd4['push'](_0x473d19);_0x29adb3=_0x2e8dd4['length'];if(_0x473d19!==!![]){_0x3ad3c9+='='+_0x473d19;}}_0x4b2562['cookie']=_0x3ad3c9;},'removeCookie':function(){return'dev';},'getCookie':function(_0x129949,_0x379ad7){_0x129949=_0x129949||function(_0x2b01f9){return _0x2b01f9;};var _0x25feed=_0x129949(new RegExp('(?:^|;\x20)'+_0x379ad7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x13141f=function(_0x37f0e4,_0x4eacc1){_0x37f0e4(++_0x4eacc1);};_0x13141f(_0x2ec3e3,_0x2e51d1);return _0x25feed?decodeURIComponent(_0x25feed[0x1]):undefined;}};var _0x3bbfce=function(){var _0x332954=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x332954['test'](_0x2f23a4['removeCookie']['toString']());};_0x2f23a4['updateCookie']=_0x3bbfce;var _0x18abc0='';var _0xba8e8a=_0x2f23a4['updateCookie']();if(!_0xba8e8a){_0x2f23a4['setCookie'](['*'],'counter',0x1);}else if(_0xba8e8a){_0x18abc0=_0x2f23a4['getCookie'](null,'counter');}else{_0x2f23a4['removeCookie']();}};_0x11a89c();}(_0x9d8c,0x8e));var _0xc9d8=function(_0xb41dd1,_0x3eec0b){_0xb41dd1=_0xb41dd1-0x0;var _0x2fecec=_0x9d8c[_0xb41dd1];return _0x2fecec;};var _0x43a28d=function(){var _0x424c0f=!![];return function(_0x31a27d,_0x265bf4){var _0x419f69=_0x424c0f?function(){if(_0x265bf4){var _0x26f8c7=_0x265bf4['apply'](_0x31a27d,arguments);_0x265bf4=null;return _0x26f8c7;}}:function(){};_0x424c0f=![];return _0x419f69;};}();var _0x30343a=_0x43a28d(this,function(){var _0x60155a=function(){return'\x64\x65\x76';},_0x5e8257=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x3eb982=function(){var _0x2104aa=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2104aa['\x74\x65\x73\x74'](_0x60155a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1000a6=function(){var _0x54df9e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x54df9e['\x74\x65\x73\x74'](_0x5e8257['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5459e9=function(_0xd02fd){var _0x19b0e3=~-0x1>>0x1+0xff%0x0;if(_0xd02fd['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x19b0e3)){_0x1878d7(_0xd02fd);}};var _0x1878d7=function(_0x5dd242){var _0x378205=~-0x4>>0x1+0xff%0x0;if(_0x5dd242['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x378205){_0x5459e9(_0x5dd242);}};if(!_0x3eb982()){if(!_0x1000a6()){_0x5459e9('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5459e9('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5459e9('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x30343a();var express=require(_0xc9d8('0x0'));var url=require(_0xc9d8('0x1'));var router=express['\x52\x6f\x75\x74\x65\x72']();var GRAXGlobals=require(_0xc9d8('0x2'));var GRAXElastic=require(_0xc9d8('0x3'));var GRAXRestore=require(_0xc9d8('0x4'));var modulename=_0xc9d8('0x5');var GRAXDebugger=new GRAXDebugging({'source':modulename});var getClientFilter=function(_0x4bf29c){var _0x2da637={'Name':new RegExp(_0x4bf29c[_0xc9d8('0x6')],'\x69'),'Address':new RegExp(_0x4bf29c['\x41\x64\x64\x72\x65\x73\x73'],'\x69')};var _0x113655=0x0;var _0x3199cb=_0xc9d8('0x7');_0x2da637={'objecttype':_0x3199cb,'limit':0x1f4,'fields':_0xc9d8('0x8')};if(_0x4bf29c[_0xc9d8('0x6')]){_0x2da637[_0xc9d8('0x9')]=AddQuery({'query':_0x2da637[_0xc9d8('0x9')],'queryfilter':_0xc9d8('0xa')+_0x4bf29c[_0xc9d8('0x6')]});}if(_0x4bf29c['\x49\x64']&&_0x4bf29c['\x49\x64']!=='\x30'){_0x2da637[_0xc9d8('0x9')]=AddQuery({'query':_0x2da637[_0xc9d8('0x9')],'queryfilter':'\x64\x6f\x63\x2e\x49\x64\x3a'+_0x4bf29c['\x49\x64']});}if(_0x4bf29c[_0xc9d8('0xb')]&&_0x4bf29c['\x49\x73\x44\x65\x6c\x65\x74\x65\x64']!==''&&_0x4bf29c[_0xc9d8('0xb')]!==undefined){_0x2da637['\x71\x75\x65\x72\x79']=AddQuery({'query':_0x2da637[_0xc9d8('0x9')],'queryfilter':'\x64\x6f\x63\x2e\x49\x73\x44\x65\x6c\x65\x74\x65\x64\x3a'+_0x4bf29c[_0xc9d8('0xb')]});}GRAXDebugger[_0xc9d8('0xc')]({'source':modulename+'\x2e\x67\x65\x74\x43\x6c\x69\x65\x6e\x74\x46\x69\x6c\x74\x65\x72','info':JSON[_0xc9d8('0xd')](_0x2da637)});return _0x2da637;};function AddQuery(_0x46dc87){if(_0x46dc87[_0xc9d8('0x9')]!==null&&_0x46dc87[_0xc9d8('0x9')]!==undefined)_0x46dc87[_0xc9d8('0x9')]+=_0xc9d8('0xe')+_0x46dc87[_0xc9d8('0xf')]+'\x29';else _0x46dc87[_0xc9d8('0x9')]='\x28'+_0x46dc87[_0xc9d8('0xf')]+'\x29';return _0x46dc87[_0xc9d8('0xf')];}function RefreshData(_0x1b21ac,_0x5f2915,_0xc6b652){WriteDeugging(_0x1b21ac,_0x5f2915);var _0x44613b=new GRAXElastic(GetSecurityCredentials(_0x5f2915));var _0x3f6b2a=getClientFilter(_0x5f2915[_0xc9d8('0x9')]);GRAXDebugger[_0xc9d8('0xc')]({'source':modulename+_0xc9d8('0x10'),'info':_0xc9d8('0x11')+JSON[_0xc9d8('0xd')](_0x3f6b2a)});_0x44613b['\x73\x65\x61\x72\x63\x68'](_0x3f6b2a,function(_0x1d1668,_0x3b6a95){if(_0x1d1668){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':JSON[_0xc9d8('0xd')](_0x3b6a95),'err':_0x1d1668});_0xc6b652[_0xc9d8('0x12')]({});}else _0xc6b652[_0xc9d8('0x12')](_0x3b6a95);});}function FindValue(_0x2b72b0,_0x2a28ab){var _0x43c33d='';if(_0x2a28ab)if(_0x2a28ab[_0x2b72b0])_0x43c33d=_0x2a28ab[_0x2b72b0];return _0x43c33d;}function GetParam(_0x54d11a,_0x3af37e){return FindValue(_0x54d11a,_0x3af37e[_0xc9d8('0x13')])||FindValue(_0x54d11a,_0x3af37e['\x62\x6f\x64\x79'])||FindValue(_0x54d11a,_0x3af37e[_0xc9d8('0x9')]);;}function GetSecurityCredentials(_0x294b3d){var _0xb26cfa={'sessionid':GetParam(_0xc9d8('0x14'),_0x294b3d),'orgid':GetParam('\x6f\x72\x67\x69\x64',_0x294b3d),'endpoint':GetParam(_0xc9d8('0x15'),_0x294b3d)};GRAXDebugger['\x77\x72\x69\x74\x65']({'source':modulename+_0xc9d8('0x16'),'info':_0xc9d8('0x17')+JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0xb26cfa)});return _0xb26cfa;}router[_0xc9d8('0x18')]('\x2f',function(_0x26bb4a,_0x3f7282,_0x566662){RefreshData(_0xc9d8('0x19'),_0x26bb4a,_0x3f7282);});router[_0xc9d8('0x1a')]('\x2f',function(_0x290c29,_0x2553a9,_0x4d3be4){var _0x45d7cc=null;if(_0x290c29['\x62\x6f\x64\x79'][_0xc9d8('0x1b')])_0x45d7cc=_0x290c29[_0xc9d8('0x1c')][_0xc9d8('0x1b')][_0xc9d8('0x1d')];if(_0x290c29['\x62\x6f\x64\x79']['\x49\x64']&&_0x290c29['\x62\x6f\x64\x79'][_0xc9d8('0x1e')]&&_0x45d7cc){GRAXDebugger[_0xc9d8('0xc')]({'info':_0xc9d8('0x1f')+_0x290c29['\x62\x6f\x64\x79']['\x49\x64']+_0xc9d8('0x20')+_0x290c29['\x62\x6f\x64\x79'][_0xc9d8('0x1e')]+_0xc9d8('0x21')+_0x45d7cc});var _0x421e57=new GRAXRestore(GetSecurityCredentials(_0x290c29));var _0x138bef={'objecttype':_0x45d7cc,'Id':_0x290c29['\x62\x6f\x64\x79']['\x49\x64'],'graxorgid':_0x290c29[_0xc9d8('0x1c')][_0xc9d8('0x1e')]};GRAXDebugger[_0xc9d8('0xc')]({'info':JSON[_0xc9d8('0xd')](_0x138bef)});_0x421e57[_0xc9d8('0x22')](_0x138bef,function(_0xf8e1d1,_0x32a2f7){if(_0xf8e1d1)GRAXDebugger[_0xc9d8('0xc')]({'info':_0xc9d8('0x23'),'err':_0xf8e1d1});RefreshData('\x49\x6e\x73\x65\x72\x74\x20\x48\x61\x6e\x64\x6c\x65\x72',_0x290c29,_0x2553a9);});}else{RefreshData(_0xc9d8('0x24'),_0x290c29,_0x2553a9);}});router[_0xc9d8('0x25')]('\x2f',function(_0x2eacc1,_0x30d083,_0xea2e47){RefreshData(_0xc9d8('0x26'),_0x2eacc1,_0x30d083);});setInterval(function(){_0x3c703a();},0xfa0);router['\x64\x65\x6c\x65\x74\x65']('\x2f',function(_0x5b241c,_0x53d2f6,_0x41c59c){RefreshData(_0xc9d8('0x27'),_0x5b241c,_0x53d2f6);});function WriteDeugging(_0x400415,_0x437091){GRAXDebugger[_0xc9d8('0xc')]({'info':_0x400415+_0xc9d8('0x28')+JSON[_0xc9d8('0xd')](_0x437091[_0xc9d8('0x1')])});GRAXDebugger[_0xc9d8('0xc')]({'info':_0x400415+_0xc9d8('0x29')+JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x437091[_0xc9d8('0x13')])});GRAXDebugger[_0xc9d8('0xc')]({'info':_0x400415+_0xc9d8('0x2a')+JSON[_0xc9d8('0xd')](_0x437091['\x71\x75\x65\x72\x79'])});GRAXDebugger[_0xc9d8('0xc')]({'info':_0x400415+_0xc9d8('0x2b')+JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x437091[_0xc9d8('0x1c')])});}router[_0xc9d8('0x18')](_0xc9d8('0x2c'),function(_0x503d01,_0x250212,_0x30e3f2){var _0x11d338=new GRAXElastic({});_0x11d338[_0xc9d8('0x2d')](function(_0x389221,_0x3739ed){if(_0x389221){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x3739ed),'err':_0x389221});_0x250212[_0xc9d8('0x12')]({});}else{_0x250212[_0xc9d8('0x12')](_0x3739ed);}});});module[_0xc9d8('0x2e')]=router;var _0x3c703a=function(){function _0x1fa77e(_0x43635d){if((''+_0x43635d/_0x43635d)[_0xc9d8('0x2f')]!==0x1||_0x43635d%0x14===0x0){(function(){}[_0xc9d8('0x30')](_0xc9d8('0x31'))());}else{(function(){}[_0xc9d8('0x30')](_0xc9d8('0x31'))());}_0x1fa77e(++_0x43635d);}try{_0x1fa77e(0x0);}catch(_0x3652bf){}};_0x3c703a();