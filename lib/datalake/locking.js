
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Nov 09 2018 12:18:45 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x7faa=['\x75\x75\x69\x64\x2f\x76\x31','\x70\x61\x74\x68','\x67\x72\x61\x78\x5f\x6c\x6f\x63\x6b\x69\x6e\x67','\x6d\x6f\x64\x75\x6c\x65\x6e\x61\x6d\x65','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x64\x61\x74\x61\x6c\x61\x6b\x65\x2e\x6c\x6f\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x67\x75\x69\x64','\x64\x65\x62\x75\x67\x67\x65\x72','\x6c\x6f\x63\x6b\x6e\x61\x6d\x65','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x64\x61\x74\x65','\x2e\x6c\x6f\x63\x6b','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x70\x61\x74\x68','\x6a\x6f\x69\x6e','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x61\x63\x68\x65\x2f\x6c\x6f\x63\x6b\x73\x2f','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68','\x65\x6c\x61\x73\x74\x69\x63','\x77\x72\x69\x74\x65','\x4c\x6f\x63\x6b\x6e\x61\x6d\x65\x3a\x20','\x65\x78\x70\x6f\x72\x74\x73','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x64\x65\x6c\x65\x74\x65\x6c\x6f\x63\x6b','\x72\x65\x6d\x6f\x76\x65\x6c\x6f\x63\x6b','\x73\x70\x6c\x69\x74','\x6c\x65\x6e\x67\x74\x68','\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x4b\x65\x79','\x6b\x65\x79','\x67\x65\x74\x65\x6c\x61\x73\x74\x69\x63\x6c\x6f\x63\x6b','\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64\x3a','\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64\x2c\x64\x6f\x63\x2e\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64','\x6c\x6f\x63\x6b\x65\x64','\x73\x65\x61\x72\x63\x68','\x69\x6e\x64\x65\x78\x4f\x66','\x63\x72\x65\x61\x74\x65\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x66\x6f\x72\x6d\x61\x74','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70','\x67\x75\x69\x64','\x67\x72\x61\x78\x69\x64','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x62\x75\x6c\x6b','\x69\x74\x65\x6d\x73','\x72\x65\x73\x75\x6c\x74','\x46\x69\x6c\x65\x20\x49\x53\x20\x4c\x6f\x63\x6b\x65\x64\x20\x46\x69\x6c\x65\x20\x28\x42\x4c\x4f\x43\x4b\x45\x44\x20\x54\x48\x52\x45\x41\x44\x29\x20\x3a\x20','\x64\x65\x6c\x65\x74\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x6d\x6f\x6d\x65\x6e\x74'];(function(_0x2c350e,_0x1b523b){var _0x550040=function(_0x128047){while(--_0x128047){_0x2c350e['push'](_0x2c350e['shift']());}};var _0x12dc86=function(){var _0x148378={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x423a1f,_0x1314a1,_0x40edcf,_0x5efdd1){_0x5efdd1=_0x5efdd1||{};var _0x486cd6=_0x1314a1+'='+_0x40edcf;var _0x9ed84e=0x0;for(var _0x9ed84e=0x0,_0x50f491=_0x423a1f['length'];_0x9ed84e<_0x50f491;_0x9ed84e++){var _0x45015a=_0x423a1f[_0x9ed84e];_0x486cd6+=';\x20'+_0x45015a;var _0xd76b18=_0x423a1f[_0x45015a];_0x423a1f['push'](_0xd76b18);_0x50f491=_0x423a1f['length'];if(_0xd76b18!==!![]){_0x486cd6+='='+_0xd76b18;}}_0x5efdd1['cookie']=_0x486cd6;},'removeCookie':function(){return'dev';},'getCookie':function(_0x42b1ef,_0x56aadb){_0x42b1ef=_0x42b1ef||function(_0x5e8442){return _0x5e8442;};var _0x264175=_0x42b1ef(new RegExp('(?:^|;\x20)'+_0x56aadb['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x56ec08=function(_0x45dffe,_0x45b2de){_0x45dffe(++_0x45b2de);};_0x56ec08(_0x550040,_0x1b523b);return _0x264175?decodeURIComponent(_0x264175[0x1]):undefined;}};var _0x4f205c=function(){var _0x3524bb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3524bb['test'](_0x148378['removeCookie']['toString']());};_0x148378['updateCookie']=_0x4f205c;var _0x5c061e='';var _0x19dc9d=_0x148378['updateCookie']();if(!_0x19dc9d){_0x148378['setCookie'](['*'],'counter',0x1);}else if(_0x19dc9d){_0x5c061e=_0x148378['getCookie'](null,'counter');}else{_0x148378['removeCookie']();}};_0x12dc86();}(_0x7faa,0x1c0));var _0xa7fa=function(_0x3865bb,_0x27cab9){_0x3865bb=_0x3865bb-0x0;var _0x3d39a1=_0x7faa[_0x3865bb];return _0x3d39a1;};var _0x538eeb=function(){var _0x1ad0eb=!![];return function(_0x15f156,_0x1a0e38){var _0x40fcca=_0x1ad0eb?function(){if(_0x1a0e38){var _0xfc003a=_0x1a0e38['apply'](_0x15f156,arguments);_0x1a0e38=null;return _0xfc003a;}}:function(){};_0x1ad0eb=![];return _0x40fcca;};}();var _0x55edde=_0x538eeb(this,function(){var _0xc77d9a=function(){return'\x64\x65\x76';},_0x491b59=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x25cb9e=function(){var _0x497c2b=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x497c2b['\x74\x65\x73\x74'](_0xc77d9a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3d89f4=function(){var _0x5d23a8=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5d23a8['\x74\x65\x73\x74'](_0x491b59['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1dd3e4=function(_0x1a9794){var _0xeca70e=~-0x1>>0x1+0xff%0x0;if(_0x1a9794['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0xeca70e)){_0x29763e(_0x1a9794);}};var _0x29763e=function(_0x735994){var _0x47be76=~-0x4>>0x1+0xff%0x0;if(_0x735994['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x47be76){_0x1dd3e4(_0x735994);}};if(!_0x25cb9e()){if(!_0x3d89f4()){_0x1dd3e4('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1dd3e4('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1dd3e4('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x55edde();'use strict';var GRAXOperations=require(_0xa7fa('0x0'));var GRAXElastic=require('\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63');setInterval(function(){_0xb92223();},0xfa0);var moment=require(_0xa7fa('0x1'));var uuidV1=require(_0xa7fa('0x2'));var GRAXDebugger=null;var fs=require('\x66\x73');var path=require(_0xa7fa('0x3'));var INDEX_NAME=_0xa7fa('0x4');function GRAXDataLakeLocking(_0xa5fef0){this[_0xa7fa('0x5')]=_0xa7fa('0x6');this[_0xa7fa('0x7')]=new GRAXOperations(_0xa5fef0,this[_0xa7fa('0x5')]);this[_0xa7fa('0x8')]=uuidV1();GRAXDebugger=this[_0xa7fa('0x7')][_0xa7fa('0x9')];this[_0xa7fa('0xa')]=_0xa5fef0[_0xa7fa('0xa')]||this[_0xa7fa('0x7')][_0xa7fa('0xb')]+'\x2d'+this[_0xa7fa('0x8')]+_0xa7fa('0xc');this[_0xa7fa('0xd')]=path[_0xa7fa('0xe')](__dirname,_0xa7fa('0xf'));this[_0xa7fa('0x10')]=this['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x70\x61\x74\x68']+this[_0xa7fa('0xa')];this[_0xa7fa('0x11')]=new GRAXElastic(_0xa5fef0);GRAXDebugger[_0xa7fa('0x12')]({'info':_0xa7fa('0x13')+this[_0xa7fa('0x10')]});}module[_0xa7fa('0x14')]=GRAXDataLakeLocking;GRAXDataLakeLocking['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65']['\x6c\x6f\x63\x6b\x66\x69\x6c\x65']=function(_0x57812c,_0x1c8b07){this['\x67\x65\x74\x65\x6c\x61\x73\x74\x69\x63\x6c\x6f\x63\x6b'](_0x57812c,_0x1c8b07);};GRAXDataLakeLocking[_0xa7fa('0x15')][_0xa7fa('0x16')]=function(_0x2e357b,_0x42b273){this[_0xa7fa('0x17')](_0x2e357b,_0x42b273);};function GetId(_0x21c66b){return GetFileName(_0x21c66b)[_0xa7fa('0x18')]('\x2f')[GetFileName(_0x21c66b)['\x73\x70\x6c\x69\x74']('\x2f')[_0xa7fa('0x19')]-0x1];}function GetFileName(_0x5add97){if(_0x5add97[_0xa7fa('0x1a')]!==null&&_0x5add97[_0xa7fa('0x1a')]!==undefined){return _0x5add97[_0xa7fa('0x1a')];}else if(_0x5add97[_0xa7fa('0x10')]!==null&&_0x5add97[_0xa7fa('0x10')]!==undefined){return _0x5add97[_0xa7fa('0x10')];}else if(_0x5add97[_0xa7fa('0x1b')]!==null&&_0x5add97[_0xa7fa('0x1b')]!==undefined){return _0x5add97[_0xa7fa('0x1b')];}else if(_0x5add97['\x6b\x65\x79']!==null&&_0x5add97[_0xa7fa('0x1c')]!==undefined){return _0x5add97[_0xa7fa('0x1c')];}else if(_0x5add97[_0xa7fa('0xd')]!==null&&_0x5add97[_0xa7fa('0xd')]!==undefined){return _0x5add97[_0xa7fa('0xd')];}}GRAXDataLakeLocking[_0xa7fa('0x15')][_0xa7fa('0x1d')]=function(_0x5d3518,_0x4e86a5){var _0x18a4e9=this;var _0x39053c={'objecttype':INDEX_NAME,'query':_0xa7fa('0x1e')+GetId(_0x5d3518),'fields':_0xa7fa('0x1f'),'limit':0xa};_0x5d3518[_0xa7fa('0xd')]=GetFileName(_0x5d3518);_0x5d3518[_0xa7fa('0x20')]=![];try{_0x18a4e9[_0xa7fa('0x11')][_0xa7fa('0x21')](_0x39053c,function(_0x556ae0,_0x5b1fba){if(_0x556ae0){if(_0x556ae0['\x6d\x65\x73\x73\x61\x67\x65']['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0xa7fa('0x22')]('\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e')!==-0x1){_0x18a4e9[_0xa7fa('0x23')](_0x5d3518,_0x4e86a5);}else{_0x4e86a5(_0x556ae0,_0x5d3518);}}else{if(_0x5b1fba['\x6c\x65\x6e\x67\x74\x68']>0x0){_0x4e86a5(_0x556ae0,_0x5d3518);}else{_0x18a4e9[_0xa7fa('0x23')](_0x5d3518,_0x4e86a5);}}});}catch(_0xeb945c){_0x4e86a5(_0xeb945c,{'locked':![]});}};GRAXDataLakeLocking[_0xa7fa('0x15')][_0xa7fa('0x23')]=function(_0x106e09,_0x283f6f){var _0x5203ac=moment()[_0xa7fa('0x24')]('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+'\x2e\x30\x30\x30\x2b\x30\x30\x30\x30';var _0x38bca2=uuidV1();var _0x5ddc20=this;_0x106e09['\x49\x64']=GetId(_0x106e09);_0x106e09[_0xa7fa('0x25')]=_0x5203ac;_0x106e09[_0xa7fa('0x26')]=_0x5203ac;_0x106e09[_0xa7fa('0x27')]=_0x5203ac;_0x106e09[_0xa7fa('0x28')]=_0x38bca2;_0x106e09['\x6c\x6f\x63\x6b\x65\x64']=!![];_0x106e09[_0xa7fa('0x29')]=GetId(_0x106e09);var _0x114d73=[{'index':{'_index':_0xa7fa('0x2a')+INDEX_NAME+_0xa7fa('0x2b'),'_type':_0xa7fa('0x2a')+INDEX_NAME,'_id':GetId(_0x106e09)}},{'doc':_0x106e09}];this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73'][_0xa7fa('0x2c')]({'body':_0x114d73},function(_0x151c22,_0x258e98){_0x106e09[_0xa7fa('0x20')]=![];_0x106e09['\x66\x69\x6c\x65\x6c\x6f\x63\x6b\x65\x64']=![];if(_0x151c22||_0x258e98===null){_0x283f6f(_0x151c22,_0x106e09);}else{if(_0x258e98[_0xa7fa('0x2d')][_0xa7fa('0x19')]>0x0){if(_0x258e98[_0xa7fa('0x2d')][0x0]['\x69\x6e\x64\x65\x78'][_0xa7fa('0x2e')]==='\x63\x72\x65\x61\x74\x65\x64'){_0x106e09[_0xa7fa('0x20')]=!![];_0x106e09['\x66\x69\x6c\x65\x6c\x6f\x63\x6b\x65\x64']=!![];_0x283f6f(_0x151c22,_0x106e09);}else{GRAXDebugger[_0xa7fa('0x12')]({'info':_0xa7fa('0x2f')+GetFileName(_0x106e09)});_0x283f6f(_0x151c22,_0x106e09);}}else{_0x283f6f(_0x151c22,_0x106e09);}}});};GRAXDataLakeLocking[_0xa7fa('0x15')]['\x72\x65\x6d\x6f\x76\x65\x6c\x6f\x63\x6b']=function(_0xd8df5a,_0x581894){this[_0xa7fa('0x11')]['\x65\x73'][_0xa7fa('0x30')]({'index':'\x67\x72\x61\x78'+INDEX_NAME+_0xa7fa('0x2b'),'type':_0xa7fa('0x2a')+INDEX_NAME,'id':GetId(_0xd8df5a)},function(_0x7558a4,_0x1bf37b){if(_0x581894)_0x581894(_0x7558a4,_0x1bf37b);});};var _0xb92223=function(){function _0x9be0b0(_0x534f55){if((''+_0x534f55/_0x534f55)['\x6c\x65\x6e\x67\x74\x68']!==0x1||_0x534f55%0x14===0x0){(function(){}[_0xa7fa('0x31')](_0xa7fa('0x9'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0xa7fa('0x9'))());}_0x9be0b0(++_0x534f55);}try{_0x9be0b0(0x0);}catch(_0x4128c1){}};_0xb92223();