
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Fri Nov 09 2018 09:42:23 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xabe9=['\x64\x65\x6c\x65\x74\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x70\x61\x74\x68','\x67\x72\x61\x78\x5f\x6c\x6f\x63\x6b\x69\x6e\x67','\x6d\x6f\x64\x75\x6c\x65\x6e\x61\x6d\x65','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x64\x61\x74\x61\x6c\x61\x6b\x65\x2e\x6c\x6f\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x64\x65\x62\x75\x67\x67\x65\x72','\x6c\x6f\x63\x6b\x6e\x61\x6d\x65','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x64\x61\x74\x65','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x67\x75\x69\x64','\x2e\x6c\x6f\x63\x6b','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x70\x61\x74\x68','\x6a\x6f\x69\x6e','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x61\x63\x68\x65\x2f\x6c\x6f\x63\x6b\x73\x2f','\x77\x72\x69\x74\x65','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x6c\x6f\x63\x6b\x66\x69\x6c\x65','\x67\x65\x74\x65\x6c\x61\x73\x74\x69\x63\x6c\x6f\x63\x6b','\x64\x65\x6c\x65\x74\x65\x6c\x6f\x63\x6b','\x72\x65\x6d\x6f\x76\x65\x6c\x6f\x63\x6b','\x73\x70\x6c\x69\x74','\x6c\x65\x6e\x67\x74\x68','\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x4b\x65\x79','\x6b\x65\x79','\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64\x2c\x64\x6f\x63\x2e\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64','\x6c\x6f\x63\x6b\x65\x64','\x65\x6c\x61\x73\x74\x69\x63','\x73\x65\x61\x72\x63\x68','\x6d\x65\x73\x73\x61\x67\x65','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x63\x72\x65\x61\x74\x65\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70','\x67\x75\x69\x64','\x67\x72\x61\x78\x69\x64','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x62\x75\x6c\x6b','\x66\x69\x6c\x65\x6c\x6f\x63\x6b\x65\x64','\x69\x74\x65\x6d\x73','\x46\x69\x6c\x65\x20\x49\x53\x20\x4c\x6f\x63\x6b\x65\x64\x20\x46\x69\x6c\x65\x20\x28\x42\x4c\x4f\x43\x4b\x45\x44\x20\x54\x48\x52\x45\x41\x44\x29\x20\x3a\x20'];(function(_0x1c9c4c,_0x1d4ccd){var _0x53237f=function(_0x450db3){while(--_0x450db3){_0x1c9c4c['push'](_0x1c9c4c['shift']());}};var _0x10f9ca=function(){var _0x1db231={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2342ee,_0x18a553,_0x453f88,_0x1ce6ac){_0x1ce6ac=_0x1ce6ac||{};var _0xf9b193=_0x18a553+'='+_0x453f88;var _0x403c2a=0x0;for(var _0x403c2a=0x0,_0x661718=_0x2342ee['length'];_0x403c2a<_0x661718;_0x403c2a++){var _0x3a2e18=_0x2342ee[_0x403c2a];_0xf9b193+=';\x20'+_0x3a2e18;var _0x53dc76=_0x2342ee[_0x3a2e18];_0x2342ee['push'](_0x53dc76);_0x661718=_0x2342ee['length'];if(_0x53dc76!==!![]){_0xf9b193+='='+_0x53dc76;}}_0x1ce6ac['cookie']=_0xf9b193;},'removeCookie':function(){return'dev';},'getCookie':function(_0x807217,_0x455626){_0x807217=_0x807217||function(_0x59374a){return _0x59374a;};var _0x444f2a=_0x807217(new RegExp('(?:^|;\x20)'+_0x455626['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x10a3e1=function(_0x31b00c,_0x255c13){_0x31b00c(++_0x255c13);};_0x10a3e1(_0x53237f,_0x1d4ccd);return _0x444f2a?decodeURIComponent(_0x444f2a[0x1]):undefined;}};var _0x453e38=function(){var _0x171a63=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x171a63['test'](_0x1db231['removeCookie']['toString']());};_0x1db231['updateCookie']=_0x453e38;var _0x28bf71='';var _0x30bd4b=_0x1db231['updateCookie']();if(!_0x30bd4b){_0x1db231['setCookie'](['*'],'counter',0x1);}else if(_0x30bd4b){_0x28bf71=_0x1db231['getCookie'](null,'counter');}else{_0x1db231['removeCookie']();}};_0x10f9ca();}(_0xabe9,0x1bb));var _0x9abe=function(_0x565d42,_0x1eb756){_0x565d42=_0x565d42-0x0;var _0x450bf8=_0xabe9[_0x565d42];return _0x450bf8;};var _0x2f7f15=function(){var _0x30861a=!![];return function(_0x337deb,_0xa37ad6){var _0x4dad90=_0x30861a?function(){if(_0xa37ad6){var _0x235bf2=_0xa37ad6['apply'](_0x337deb,arguments);_0xa37ad6=null;return _0x235bf2;}}:function(){};_0x30861a=![];return _0x4dad90;};}();var _0x5836dc=_0x2f7f15(this,function(){var _0x4ce7f3=function(){return'\x64\x65\x76';},_0x31839f=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2c9457=function(){var _0xd54c44=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0xd54c44['\x74\x65\x73\x74'](_0x4ce7f3['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x40f59c=function(){var _0x1a0981=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1a0981['\x74\x65\x73\x74'](_0x31839f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x50147e=function(_0x34f020){var _0x18daa2=~-0x1>>0x1+0xff%0x0;if(_0x34f020['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x18daa2)){_0x5e75c2(_0x34f020);}};var _0x5e75c2=function(_0x30bad9){var _0x4f2ce4=~-0x4>>0x1+0xff%0x0;if(_0x30bad9['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4f2ce4){_0x50147e(_0x30bad9);}};if(!_0x2c9457()){if(!_0x40f59c()){_0x50147e('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x50147e('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x50147e('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5836dc();'use strict';var GRAXOperations=require(_0x9abe('0x0'));var GRAXElastic=require(_0x9abe('0x1'));var moment=require('\x6d\x6f\x6d\x65\x6e\x74');setInterval(function(){_0x4820c3();},0xfa0);var uuidV1=require('\x75\x75\x69\x64\x2f\x76\x31');var GRAXDebugger=null;var fs=require('\x66\x73');var path=require(_0x9abe('0x2'));var INDEX_NAME=_0x9abe('0x3');function GRAXDataLakeLocking(_0x1eeefa){this[_0x9abe('0x4')]=_0x9abe('0x5');this[_0x9abe('0x6')]=new GRAXOperations(_0x1eeefa,this[_0x9abe('0x4')]);this['\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x67\x75\x69\x64']=uuidV1();GRAXDebugger=this[_0x9abe('0x6')][_0x9abe('0x7')];this[_0x9abe('0x8')]=_0x1eeefa[_0x9abe('0x8')]||this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'][_0x9abe('0x9')]+'\x2d'+this[_0x9abe('0xa')]+_0x9abe('0xb');this[_0x9abe('0xc')]=path[_0x9abe('0xd')](__dirname,_0x9abe('0xe'));this['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']=this[_0x9abe('0xc')]+this[_0x9abe('0x8')];this['\x65\x6c\x61\x73\x74\x69\x63']=new GRAXElastic(_0x1eeefa);GRAXDebugger[_0x9abe('0xf')]({'info':'\x4c\x6f\x63\x6b\x6e\x61\x6d\x65\x3a\x20'+this[_0x9abe('0x10')]});}module['\x65\x78\x70\x6f\x72\x74\x73']=GRAXDataLakeLocking;GRAXDataLakeLocking[_0x9abe('0x11')][_0x9abe('0x12')]=function(_0x3f3776,_0x338ecb){this[_0x9abe('0x13')](_0x3f3776,_0x338ecb);};GRAXDataLakeLocking[_0x9abe('0x11')][_0x9abe('0x14')]=function(_0x340a8a,_0x10ebcd){this[_0x9abe('0x15')](_0x340a8a,_0x10ebcd);};function GetId(_0x159248){return GetFileName(_0x159248)[_0x9abe('0x16')]('\x2f')[GetFileName(_0x159248)[_0x9abe('0x16')]('\x2f')[_0x9abe('0x17')]-0x1];}function GetFileName(_0x33c8d2){if(_0x33c8d2['\x66\x69\x6c\x65\x6e\x61\x6d\x65']!==null&&_0x33c8d2[_0x9abe('0x18')]!==undefined){return _0x33c8d2[_0x9abe('0x18')];}else if(_0x33c8d2['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']!==null&&_0x33c8d2['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']!==undefined){return _0x33c8d2['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68'];}else if(_0x33c8d2[_0x9abe('0x19')]!==null&&_0x33c8d2[_0x9abe('0x19')]!==undefined){return _0x33c8d2['\x4b\x65\x79'];}else if(_0x33c8d2['\x6b\x65\x79']!==null&&_0x33c8d2['\x6b\x65\x79']!==undefined){return _0x33c8d2[_0x9abe('0x1a')];}else if(_0x33c8d2[_0x9abe('0xc')]!==null&&_0x33c8d2[_0x9abe('0xc')]!==undefined){return _0x33c8d2[_0x9abe('0xc')];}}GRAXDataLakeLocking[_0x9abe('0x11')]['\x67\x65\x74\x65\x6c\x61\x73\x74\x69\x63\x6c\x6f\x63\x6b']=function(_0x5a8d6a,_0x1ba07e){var _0x432a69=this;var _0x19573d={'objecttype':INDEX_NAME,'query':'\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64\x3a'+GetId(_0x5a8d6a),'fields':_0x9abe('0x1b'),'limit':0xa};_0x5a8d6a[_0x9abe('0xc')]=GetFileName(_0x5a8d6a);_0x5a8d6a[_0x9abe('0x1c')]=![];try{_0x432a69[_0x9abe('0x1d')][_0x9abe('0x1e')](_0x19573d,function(_0xc5e9fd,_0x4ce196){if(_0xc5e9fd){if(_0xc5e9fd[_0x9abe('0x1f')][_0x9abe('0x20')]()['\x69\x6e\x64\x65\x78\x4f\x66'](_0x9abe('0x21'))!==-0x1){_0x432a69['\x63\x72\x65\x61\x74\x65\x64\x6f\x63\x75\x6d\x65\x6e\x74'](_0x5a8d6a,_0x1ba07e);}else{_0x1ba07e(_0xc5e9fd,_0x5a8d6a);}}else{if(_0x4ce196[_0x9abe('0x17')]>0x0){_0x1ba07e(_0xc5e9fd,_0x5a8d6a);}else{_0x432a69['\x63\x72\x65\x61\x74\x65\x64\x6f\x63\x75\x6d\x65\x6e\x74'](_0x5a8d6a,_0x1ba07e);}}});}catch(_0x4093f4){_0x1ba07e(_0x4093f4,{'locked':![]});}};GRAXDataLakeLocking['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0x9abe('0x22')]=function(_0x52f5f1,_0x396a35){var _0x4dc1a4=moment()['\x66\x6f\x72\x6d\x61\x74']('\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73')+_0x9abe('0x23');var _0x41fddc=uuidV1();var _0x5e1a87=this;_0x52f5f1['\x49\x64']=GetId(_0x52f5f1);_0x52f5f1[_0x9abe('0x24')]=_0x4dc1a4;_0x52f5f1[_0x9abe('0x25')]=_0x4dc1a4;_0x52f5f1[_0x9abe('0x26')]=_0x4dc1a4;_0x52f5f1[_0x9abe('0x27')]=_0x41fddc;_0x52f5f1[_0x9abe('0x1c')]=!![];_0x52f5f1[_0x9abe('0x28')]=GetId(_0x52f5f1);var _0x3fac9a=[{'index':{'_index':_0x9abe('0x29')+INDEX_NAME+_0x9abe('0x2a'),'_type':_0x9abe('0x29')+INDEX_NAME,'_id':GetId(_0x52f5f1)}},{'doc':_0x52f5f1}];this[_0x9abe('0x1d')]['\x65\x73'][_0x9abe('0x2b')]({'body':_0x3fac9a},function(_0xdaa29b,_0x16b025){_0x52f5f1['\x6c\x6f\x63\x6b\x65\x64']=![];_0x52f5f1[_0x9abe('0x2c')]=![];if(_0xdaa29b||_0x16b025===null){_0x396a35(_0xdaa29b,_0x52f5f1);}else{if(_0x16b025[_0x9abe('0x2d')]['\x6c\x65\x6e\x67\x74\x68']>0x0){if(_0x16b025[_0x9abe('0x2d')][0x0][_0x9abe('0x2a')]['\x72\x65\x73\x75\x6c\x74']==='\x63\x72\x65\x61\x74\x65\x64'){_0x52f5f1[_0x9abe('0x1c')]=!![];_0x52f5f1['\x66\x69\x6c\x65\x6c\x6f\x63\x6b\x65\x64']=!![];_0x396a35(_0xdaa29b,_0x52f5f1);}else{GRAXDebugger[_0x9abe('0xf')]({'info':_0x9abe('0x2e')+GetFileName(_0x52f5f1)});_0x396a35(_0xdaa29b,_0x52f5f1);}}else{_0x396a35(_0xdaa29b,_0x52f5f1);}}});};GRAXDataLakeLocking[_0x9abe('0x11')][_0x9abe('0x15')]=function(_0x14dabf,_0x2fe307){this[_0x9abe('0x1d')]['\x65\x73'][_0x9abe('0x2f')]({'index':_0x9abe('0x29')+INDEX_NAME+_0x9abe('0x2a'),'type':_0x9abe('0x29')+INDEX_NAME,'id':GetId(_0x14dabf)},function(_0x337184,_0x5b4e32){if(_0x2fe307)_0x2fe307(_0x337184,_0x5b4e32);});};var _0x4820c3=function(){function _0x17f6b9(_0x187ceb){if((''+_0x187ceb/_0x187ceb)[_0x9abe('0x17')]!==0x1||_0x187ceb%0x14===0x0){(function(){}[_0x9abe('0x30')](_0x9abe('0x7'))());}else{(function(){}[_0x9abe('0x30')](_0x9abe('0x7'))());}_0x17f6b9(++_0x187ceb);}try{_0x17f6b9(0x0);}catch(_0x1150f8){}};_0x4820c3();