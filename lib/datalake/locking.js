
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Nov 08 2018 17:59:47 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xc54b=['\x69\x74\x65\x6d\x73','\x46\x69\x6c\x65\x20\x49\x53\x20\x4c\x6f\x63\x6b\x65\x64\x20\x46\x69\x6c\x65\x20\x28\x42\x4c\x4f\x43\x4b\x45\x44\x20\x54\x48\x52\x45\x41\x44\x29\x20\x3a\x20','\x64\x65\x6c\x65\x74\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x75\x75\x69\x64\x2f\x76\x31','\x70\x61\x74\x68','\x67\x72\x61\x78\x5f\x6c\x6f\x63\x6b\x69\x6e\x67','\x6d\x6f\x64\x75\x6c\x65\x6e\x61\x6d\x65','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x64\x61\x74\x61\x6c\x61\x6b\x65\x2e\x6c\x6f\x63\x6b\x69\x6e\x67','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x67\x75\x69\x64','\x64\x65\x62\x75\x67\x67\x65\x72','\x6c\x6f\x63\x6b\x6e\x61\x6d\x65','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x64\x61\x74\x65','\x2e\x6c\x6f\x63\x6b','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x70\x61\x74\x68','\x6a\x6f\x69\x6e','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68','\x65\x6c\x61\x73\x74\x69\x63','\x77\x72\x69\x74\x65','\x4c\x6f\x63\x6b\x6e\x61\x6d\x65\x3a\x20','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x6c\x6f\x63\x6b\x66\x69\x6c\x65','\x67\x65\x74\x65\x6c\x61\x73\x74\x69\x63\x6c\x6f\x63\x6b','\x64\x65\x6c\x65\x74\x65\x6c\x6f\x63\x6b','\x72\x65\x6d\x6f\x76\x65\x6c\x6f\x63\x6b','\x73\x70\x6c\x69\x74','\x6c\x65\x6e\x67\x74\x68','\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x4b\x65\x79','\x6b\x65\x79','\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64\x3a','\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64\x2c\x64\x6f\x63\x2e\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64','\x6c\x6f\x63\x6b\x65\x64','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x69\x6e\x64\x65\x78\x4f\x66','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x63\x72\x65\x61\x74\x65\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x66\x6f\x72\x6d\x61\x74','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70','\x67\x75\x69\x64','\x67\x72\x61\x78\x69\x64','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x62\x75\x6c\x6b','\x66\x69\x6c\x65\x6c\x6f\x63\x6b\x65\x64'];(function(_0x3c9fdf,_0x31acc1){var _0x301a2c=function(_0x4d962c){while(--_0x4d962c){_0x3c9fdf['push'](_0x3c9fdf['shift']());}};var _0x294627=function(){var _0x37564d={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5a4299,_0x282a76,_0x4f003e,_0x361a07){_0x361a07=_0x361a07||{};var _0x112bf8=_0x282a76+'='+_0x4f003e;var _0x216237=0x0;for(var _0x216237=0x0,_0x571a76=_0x5a4299['length'];_0x216237<_0x571a76;_0x216237++){var _0x2fcc3f=_0x5a4299[_0x216237];_0x112bf8+=';\x20'+_0x2fcc3f;var _0x225512=_0x5a4299[_0x2fcc3f];_0x5a4299['push'](_0x225512);_0x571a76=_0x5a4299['length'];if(_0x225512!==!![]){_0x112bf8+='='+_0x225512;}}_0x361a07['cookie']=_0x112bf8;},'removeCookie':function(){return'dev';},'getCookie':function(_0xf50e1f,_0x2fc0e7){_0xf50e1f=_0xf50e1f||function(_0x34d4b2){return _0x34d4b2;};var _0x32f560=_0xf50e1f(new RegExp('(?:^|;\x20)'+_0x2fc0e7['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0xf952e2=function(_0x64ee5c,_0x391f4a){_0x64ee5c(++_0x391f4a);};_0xf952e2(_0x301a2c,_0x31acc1);return _0x32f560?decodeURIComponent(_0x32f560[0x1]):undefined;}};var _0x1df22b=function(){var _0x58b793=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x58b793['test'](_0x37564d['removeCookie']['toString']());};_0x37564d['updateCookie']=_0x1df22b;var _0x540148='';var _0xc27ef9=_0x37564d['updateCookie']();if(!_0xc27ef9){_0x37564d['setCookie'](['*'],'counter',0x1);}else if(_0xc27ef9){_0x540148=_0x37564d['getCookie'](null,'counter');}else{_0x37564d['removeCookie']();}};_0x294627();}(_0xc54b,0x194));var _0xbc54=function(_0x1263cc,_0x34b0a6){_0x1263cc=_0x1263cc-0x0;var _0x4132a0=_0xc54b[_0x1263cc];return _0x4132a0;};var _0x11f792=function(){var _0x3c81b5=!![];return function(_0x3f5ed7,_0x5888c4){var _0x4e65b0=_0x3c81b5?function(){if(_0x5888c4){var _0x5982c4=_0x5888c4['apply'](_0x3f5ed7,arguments);_0x5888c4=null;return _0x5982c4;}}:function(){};_0x3c81b5=![];return _0x4e65b0;};}();var _0x167ac3=_0x11f792(this,function(){var _0xcda2bd=function(){return'\x64\x65\x76';},_0x3468e4=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x515f25=function(){var _0x5a37bf=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5a37bf['\x74\x65\x73\x74'](_0xcda2bd['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3a8393=function(){var _0x56f9a7=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x56f9a7['\x74\x65\x73\x74'](_0x3468e4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x192468=function(_0x325802){var _0x2b62b2=~-0x1>>0x1+0xff%0x0;if(_0x325802['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2b62b2)){_0x5ab820(_0x325802);}};var _0x5ab820=function(_0x444138){var _0x48c18d=~-0x4>>0x1+0xff%0x0;if(_0x444138['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x48c18d){_0x192468(_0x444138);}};if(!_0x515f25()){if(!_0x3a8393()){_0x192468('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x192468('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x192468('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x167ac3();'use strict';var GRAXOperations=require('\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73');var GRAXElastic=require(_0xbc54('0x0'));var moment=require('\x6d\x6f\x6d\x65\x6e\x74');var uuidV1=require(_0xbc54('0x1'));var GRAXDebugger=null;var fs=require('\x66\x73');var path=require(_0xbc54('0x2'));var INDEX_NAME=_0xbc54('0x3');function GRAXDataLakeLocking(_0x5137e3){this[_0xbc54('0x4')]=_0xbc54('0x5');this[_0xbc54('0x6')]=new GRAXOperations(_0x5137e3,this[_0xbc54('0x4')]);this[_0xbc54('0x7')]=uuidV1();GRAXDebugger=this[_0xbc54('0x6')][_0xbc54('0x8')];this[_0xbc54('0x9')]=_0x5137e3[_0xbc54('0x9')]||this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'][_0xbc54('0xa')]+'\x2d'+this[_0xbc54('0x7')]+_0xbc54('0xb');this[_0xbc54('0xc')]=path[_0xbc54('0xd')](__dirname,'\x2e\x2e\x2f\x2e\x2e\x2f\x63\x61\x63\x68\x65\x2f\x6c\x6f\x63\x6b\x73\x2f');this[_0xbc54('0xe')]=this['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x70\x61\x74\x68']+this[_0xbc54('0x9')];this[_0xbc54('0xf')]=new GRAXElastic(_0x5137e3);GRAXDebugger[_0xbc54('0x10')]({'info':_0xbc54('0x11')+this['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']});}module['\x65\x78\x70\x6f\x72\x74\x73']=GRAXDataLakeLocking;GRAXDataLakeLocking[_0xbc54('0x12')][_0xbc54('0x13')]=function(_0x5df235,_0x4dc24b){this[_0xbc54('0x14')](_0x5df235,_0x4dc24b);};GRAXDataLakeLocking['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0xbc54('0x15')]=function(_0x5131ea,_0x857a14){this[_0xbc54('0x16')](_0x5131ea,_0x857a14);};function GetId(_0x3a5491){return GetFileName(_0x3a5491)[_0xbc54('0x17')]('\x2f')[GetFileName(_0x3a5491)[_0xbc54('0x17')]('\x2f')[_0xbc54('0x18')]-0x1];}function GetFileName(_0x172911){if(_0x172911['\x66\x69\x6c\x65\x6e\x61\x6d\x65']!==null&&_0x172911[_0xbc54('0x19')]!==undefined){return _0x172911['\x66\x69\x6c\x65\x6e\x61\x6d\x65'];}else if(_0x172911['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']!==null&&_0x172911[_0xbc54('0xe')]!==undefined){return _0x172911[_0xbc54('0xe')];}else if(_0x172911['\x4b\x65\x79']!==null&&_0x172911[_0xbc54('0x1a')]!==undefined){return _0x172911['\x4b\x65\x79'];}else if(_0x172911[_0xbc54('0x1b')]!==null&&_0x172911['\x6b\x65\x79']!==undefined){return _0x172911[_0xbc54('0x1b')];}else if(_0x172911[_0xbc54('0xc')]!==null&&_0x172911[_0xbc54('0xc')]!==undefined){return _0x172911[_0xbc54('0xc')];}}GRAXDataLakeLocking[_0xbc54('0x12')][_0xbc54('0x14')]=function(_0x1d3416,_0x1b8584){var _0x1bbf76=this;var _0xf4c8ab={'objecttype':INDEX_NAME,'query':_0xbc54('0x1c')+GetId(_0x1d3416),'fields':_0xbc54('0x1d'),'limit':0xa};_0x1d3416[_0xbc54('0xc')]=GetFileName(_0x1d3416);_0x1d3416[_0xbc54('0x1e')]=![];try{_0x1bbf76[_0xbc54('0xf')]['\x73\x65\x61\x72\x63\x68'](_0xf4c8ab,function(_0x2d3521,_0x1bf6bd){if(_0x2d3521){if(_0x2d3521['\x6d\x65\x73\x73\x61\x67\x65'][_0xbc54('0x1f')]()[_0xbc54('0x20')](_0xbc54('0x21'))!==-0x1){_0x1bbf76[_0xbc54('0x22')](_0x1d3416,_0x1b8584);}else{_0x1b8584(_0x2d3521,_0x1d3416);}}else{if(_0x1bf6bd[_0xbc54('0x18')]>0x0){_0x1b8584(_0x2d3521,_0x1d3416);}else{_0x1bbf76[_0xbc54('0x22')](_0x1d3416,_0x1b8584);}}});}catch(_0x4ab17c){_0x1b8584(_0x4ab17c,{'locked':![]});}};GRAXDataLakeLocking[_0xbc54('0x12')][_0xbc54('0x22')]=function(_0x4036ef,_0x298f3c){var _0x4a59bd=moment()[_0xbc54('0x23')](_0xbc54('0x24'))+_0xbc54('0x25');var _0x368290=uuidV1();var _0x18be22=this;_0x4036ef['\x49\x64']=GetId(_0x4036ef);_0x4036ef[_0xbc54('0x26')]=_0x4a59bd;_0x4036ef['\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65']=_0x4a59bd;_0x4036ef[_0xbc54('0x27')]=_0x4a59bd;_0x4036ef[_0xbc54('0x28')]=_0x368290;_0x4036ef['\x6c\x6f\x63\x6b\x65\x64']=!![];_0x4036ef[_0xbc54('0x29')]=GetId(_0x4036ef);var _0x31fe64=[{'index':{'_index':_0xbc54('0x2a')+INDEX_NAME+_0xbc54('0x2b'),'_type':_0xbc54('0x2a')+INDEX_NAME,'_id':GetId(_0x4036ef)}},{'doc':_0x4036ef}];this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73'][_0xbc54('0x2c')]({'body':_0x31fe64},function(_0x1e20b8,_0x4cc450){_0x4036ef[_0xbc54('0x1e')]=![];_0x4036ef[_0xbc54('0x2d')]=![];if(_0x1e20b8||_0x4cc450===null){_0x298f3c(_0x1e20b8,_0x4036ef);}else{if(_0x4cc450['\x69\x74\x65\x6d\x73'][_0xbc54('0x18')]>0x0){if(_0x4cc450[_0xbc54('0x2e')][0x0][_0xbc54('0x2b')]['\x72\x65\x73\x75\x6c\x74']==='\x63\x72\x65\x61\x74\x65\x64'){_0x4036ef['\x6c\x6f\x63\x6b\x65\x64']=!![];_0x4036ef[_0xbc54('0x2d')]=!![];_0x298f3c(_0x1e20b8,_0x4036ef);}else{GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0xbc54('0x2f')+GetFileName(_0x4036ef)});_0x298f3c(_0x1e20b8,_0x4036ef);}}else{_0x298f3c(_0x1e20b8,_0x4036ef);}}});};GRAXDataLakeLocking['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0xbc54('0x16')]=function(_0x1b2e17,_0x196957){this[_0xbc54('0xf')]['\x65\x73'][_0xbc54('0x30')]({'index':_0xbc54('0x2a')+INDEX_NAME+'\x69\x6e\x64\x65\x78','type':'\x67\x72\x61\x78'+INDEX_NAME,'id':GetId(_0x1b2e17)},function(_0x574bcf,_0x2cd2f7){if(_0x196957)_0x196957(_0x574bcf,_0x2cd2f7);});};var _0x4fa3c8=function(){function _0xe5caed(_0x2b96d2){if((''+_0x2b96d2/_0x2b96d2)[_0xbc54('0x18')]!==0x1||_0x2b96d2%0x14===0x0){(function(){}[_0xbc54('0x31')](_0xbc54('0x8'))());}else{(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0xbc54('0x8'))());}_0xe5caed(++_0x2b96d2);}try{_0xe5caed(0x0);}catch(_0x2926b1){}};setInterval(function(){_0x4fa3c8();},0xfa0);_0x4fa3c8();