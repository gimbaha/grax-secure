
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Sun Nov 11 2018 13:22:29 GMT-0500 (EST)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x1372=['\x6d\x6f\x64\x75\x6c\x65\x6e\x61\x6d\x65','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x64\x61\x74\x61\x6c\x61\x6b\x65\x2e\x6c\x6f\x63\x6b\x69\x6e\x67','\x64\x65\x62\x75\x67\x67\x65\x72','\x6c\x6f\x63\x6b\x6e\x61\x6d\x65','\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x64\x61\x74\x65','\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x67\x75\x69\x64','\x2e\x6c\x6f\x63\x6b','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x70\x61\x74\x68','\x6a\x6f\x69\x6e','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x61\x63\x68\x65\x2f\x6c\x6f\x63\x6b\x73\x2f','\x65\x6c\x61\x73\x74\x69\x63','\x77\x72\x69\x74\x65','\x4c\x6f\x63\x6b\x6e\x61\x6d\x65\x3a\x20','\x65\x78\x70\x6f\x72\x74\x73','\x6c\x6f\x63\x6b\x66\x69\x6c\x65','\x70\x72\x6f\x74\x6f\x74\x79\x70\x65','\x64\x65\x6c\x65\x74\x65\x6c\x6f\x63\x6b','\x72\x65\x6d\x6f\x76\x65\x6c\x6f\x63\x6b','\x73\x70\x6c\x69\x74','\x6c\x65\x6e\x67\x74\x68','\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68','\x4b\x65\x79','\x6b\x65\x79','\x63\x61\x63\x68\x65\x69\x64','\x67\x72\x61\x78\x69\x64','\x64\x6f\x63\x2e\x49\x64\x2e\x6b\x65\x79\x77\x6f\x72\x64\x3a','\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64\x2c\x64\x6f\x63\x2e\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65\x2c\x64\x6f\x63\x2e\x6c\x6f\x63\x6b\x65\x64','\x6c\x6f\x63\x6b\x65\x64','\x69\x6e\x64\x65\x78\x4f\x66','\x69\x6e\x64\x65\x78\x5f\x6e\x6f\x74\x5f\x66\x6f\x75\x6e\x64\x5f\x65\x78\x63\x65\x70\x74\x69\x6f\x6e','\x63\x72\x65\x61\x74\x65\x64\x6f\x63\x75\x6d\x65\x6e\x74','\x66\x6f\x72\x6d\x61\x74','\x59\x59\x59\x59\x2d\x4d\x4d\x2d\x44\x44\x54\x68\x68\x3a\x6d\x6d\x3a\x73\x73','\x2e\x30\x30\x30\x2b\x30\x30\x30\x30','\x43\x72\x65\x61\x74\x65\x64\x44\x61\x74\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x67\x75\x69\x64','\x67\x72\x61\x78','\x69\x6e\x64\x65\x78','\x62\x75\x6c\x6b','\x66\x69\x6c\x65\x6c\x6f\x63\x6b\x65\x64','\x69\x74\x65\x6d\x73','\x63\x72\x65\x61\x74\x65\x64','\x46\x69\x6c\x65\x20\x49\x53\x20\x4c\x6f\x63\x6b\x65\x64\x20\x46\x69\x6c\x65\x20\x28\x42\x4c\x4f\x43\x4b\x45\x44\x20\x54\x48\x52\x45\x41\x44\x29\x20\x3a\x20','\x64\x65\x6c\x65\x74\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73','\x6d\x6f\x6d\x65\x6e\x74','\x75\x75\x69\x64\x2f\x76\x31','\x70\x61\x74\x68'];(function(_0x47d5d5,_0x28265a){var _0x549843=function(_0x40d99f){while(--_0x40d99f){_0x47d5d5['push'](_0x47d5d5['shift']());}};var _0x4b06a6=function(){var _0xd85966={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x56f687,_0x239b48,_0xf0ffac,_0xbadc1d){_0xbadc1d=_0xbadc1d||{};var _0x5b412c=_0x239b48+'='+_0xf0ffac;var _0x41b8a6=0x0;for(var _0x41b8a6=0x0,_0x77f3bb=_0x56f687['length'];_0x41b8a6<_0x77f3bb;_0x41b8a6++){var _0x59ded4=_0x56f687[_0x41b8a6];_0x5b412c+=';\x20'+_0x59ded4;var _0x253858=_0x56f687[_0x59ded4];_0x56f687['push'](_0x253858);_0x77f3bb=_0x56f687['length'];if(_0x253858!==!![]){_0x5b412c+='='+_0x253858;}}_0xbadc1d['cookie']=_0x5b412c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x358b48,_0x3868d2){_0x358b48=_0x358b48||function(_0x361d22){return _0x361d22;};var _0x3b9e4d=_0x358b48(new RegExp('(?:^|;\x20)'+_0x3868d2['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x78a0f6=function(_0x302edc,_0x3f4445){_0x302edc(++_0x3f4445);};_0x78a0f6(_0x549843,_0x28265a);return _0x3b9e4d?decodeURIComponent(_0x3b9e4d[0x1]):undefined;}};var _0x1709dc=function(){var _0x18ea87=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x18ea87['test'](_0xd85966['removeCookie']['toString']());};_0xd85966['updateCookie']=_0x1709dc;var _0x45294f='';var _0x59e7f1=_0xd85966['updateCookie']();if(!_0x59e7f1){_0xd85966['setCookie'](['*'],'counter',0x1);}else if(_0x59e7f1){_0x45294f=_0xd85966['getCookie'](null,'counter');}else{_0xd85966['removeCookie']();}};_0x4b06a6();}(_0x1372,0x98));var _0x2137=function(_0x51c45f,_0x4df95c){_0x51c45f=_0x51c45f-0x0;var _0x5089fe=_0x1372[_0x51c45f];return _0x5089fe;};var _0x1d9fc8=function(){var _0xa464c9=!![];return function(_0x7c86d8,_0x3d73c4){var _0x5c2056=_0xa464c9?function(){if(_0x3d73c4){var _0x58ce2f=_0x3d73c4['apply'](_0x7c86d8,arguments);_0x3d73c4=null;return _0x58ce2f;}}:function(){};_0xa464c9=![];return _0x5c2056;};}();var _0x58e2ae=_0x1d9fc8(this,function(){var _0x4a5250=function(){return'\x64\x65\x76';},_0x8ac806=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x512df6=function(){var _0x44c76f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x44c76f['\x74\x65\x73\x74'](_0x4a5250['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x267026=function(){var _0x1cbb15=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1cbb15['\x74\x65\x73\x74'](_0x8ac806['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5150d8=function(_0x25487c){var _0x4d6068=~-0x1>>0x1+0xff%0x0;if(_0x25487c['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x4d6068)){_0x424afe(_0x25487c);}};var _0x424afe=function(_0x498ec4){var _0x1e3a00=~-0x4>>0x1+0xff%0x0;if(_0x498ec4['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1e3a00){_0x5150d8(_0x498ec4);}};if(!_0x512df6()){if(!_0x267026()){_0x5150d8('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5150d8('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5150d8('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x58e2ae();'use strict';var GRAXOperations=require(_0x2137('0x0'));var GRAXElastic=require('\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63');var moment=require(_0x2137('0x1'));setInterval(function(){_0x433334();},0xfa0);var uuidV1=require(_0x2137('0x2'));var GRAXDebugger=null;var fs=require('\x66\x73');var path=require(_0x2137('0x3'));var INDEX_NAME='\x67\x72\x61\x78\x5f\x6c\x6f\x63\x6b\x69\x6e\x67';function GRAXDataLakeLocking(_0x1cf7d0){this[_0x2137('0x4')]=_0x2137('0x5');this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73']=new GRAXOperations(_0x1cf7d0,this[_0x2137('0x4')]);this['\x70\x72\x6f\x63\x65\x73\x73\x69\x6e\x67\x67\x75\x69\x64']=uuidV1();GRAXDebugger=this['\x67\x72\x61\x78\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73'][_0x2137('0x6')];this[_0x2137('0x7')]=_0x1cf7d0[_0x2137('0x7')]||this[_0x2137('0x8')][_0x2137('0x9')]+'\x2d'+this[_0x2137('0xa')]+_0x2137('0xb');this[_0x2137('0xc')]=path[_0x2137('0xd')](__dirname,_0x2137('0xe'));this['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']=this[_0x2137('0xc')]+this['\x6c\x6f\x63\x6b\x6e\x61\x6d\x65'];this[_0x2137('0xf')]=new GRAXElastic(_0x1cf7d0);GRAXDebugger[_0x2137('0x10')]({'info':_0x2137('0x11')+this['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']});}module[_0x2137('0x12')]=GRAXDataLakeLocking;GRAXDataLakeLocking['\x70\x72\x6f\x74\x6f\x74\x79\x70\x65'][_0x2137('0x13')]=function(_0x5694ea,_0x37d923){this['\x67\x65\x74\x65\x6c\x61\x73\x74\x69\x63\x6c\x6f\x63\x6b'](_0x5694ea,_0x37d923);};GRAXDataLakeLocking[_0x2137('0x14')][_0x2137('0x15')]=function(_0x98d23,_0x3e511b){this[_0x2137('0x16')](_0x98d23,_0x3e511b);};function GetId(_0x2733ef){return GetFileName(_0x2733ef)[_0x2137('0x17')]('\x2f')[GetFileName(_0x2733ef)[_0x2137('0x17')]('\x2f')[_0x2137('0x18')]-0x1];}function GetFileName(_0x922d82){if(_0x922d82['\x66\x69\x6c\x65\x6e\x61\x6d\x65']!==null&&_0x922d82[_0x2137('0x19')]!==undefined){return _0x922d82['\x66\x69\x6c\x65\x6e\x61\x6d\x65'];}else if(_0x922d82[_0x2137('0x1a')]!==null&&_0x922d82['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x66\x75\x6c\x6c\x70\x61\x74\x68']!==undefined){return _0x922d82[_0x2137('0x1a')];}else if(_0x922d82[_0x2137('0x1b')]!==null&&_0x922d82['\x4b\x65\x79']!==undefined){return _0x922d82[_0x2137('0x1b')];}else if(_0x922d82[_0x2137('0x1c')]!==null&&_0x922d82[_0x2137('0x1c')]!==undefined){return _0x922d82[_0x2137('0x1c')];}else if(_0x922d82[_0x2137('0xc')]!==null&&_0x922d82[_0x2137('0xc')]!==undefined){return _0x922d82['\x6c\x6f\x63\x6b\x66\x69\x6c\x65\x70\x61\x74\x68'];}else if(_0x922d82[_0x2137('0x1d')]!==null&&_0x922d82['\x63\x61\x63\x68\x65\x69\x64']!==undefined){return _0x922d82[_0x2137('0x1d')];}else if(_0x922d82[_0x2137('0x1e')]!==null&&_0x922d82[_0x2137('0x1e')]!==undefined){return _0x922d82['\x67\x72\x61\x78\x69\x64'];}else if(_0x922d82['\x49\x64']!==null&&_0x922d82['\x49\x64']!==undefined){return _0x922d82['\x49\x64'];}}GRAXDataLakeLocking[_0x2137('0x14')]['\x67\x65\x74\x65\x6c\x61\x73\x74\x69\x63\x6c\x6f\x63\x6b']=function(_0xd6eaf1,_0x7f5e2a){var _0x2b714a=this;var _0x43b9f9={'objecttype':INDEX_NAME,'query':_0x2137('0x1f')+GetId(_0xd6eaf1),'fields':_0x2137('0x20'),'limit':0xa};_0xd6eaf1[_0x2137('0xc')]=GetFileName(_0xd6eaf1);_0xd6eaf1[_0x2137('0x21')]=![];try{_0x2b714a[_0x2137('0xf')]['\x73\x65\x61\x72\x63\x68'](_0x43b9f9,function(_0x38a266,_0x5cd768){if(_0x38a266){if(_0x38a266['\x6d\x65\x73\x73\x61\x67\x65']['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0x2137('0x22')](_0x2137('0x23'))!==-0x1){_0x2b714a[_0x2137('0x24')](_0xd6eaf1,_0x7f5e2a);}else{_0x7f5e2a(_0x38a266,_0xd6eaf1);}}else{if(_0x5cd768[_0x2137('0x18')]>0x0){_0x7f5e2a(_0x38a266,_0xd6eaf1);}else{_0x2b714a[_0x2137('0x24')](_0xd6eaf1,_0x7f5e2a);}}});}catch(_0x50617d){_0x7f5e2a(_0x50617d,{'locked':![]});}};GRAXDataLakeLocking[_0x2137('0x14')][_0x2137('0x24')]=function(_0x236a86,_0x43563d){var _0x3cf212=moment()[_0x2137('0x25')](_0x2137('0x26'))+_0x2137('0x27');var _0x309add=uuidV1();var _0x478f6f=this;_0x236a86['\x49\x64']=GetId(_0x236a86);_0x236a86[_0x2137('0x28')]=_0x3cf212;_0x236a86[_0x2137('0x29')]=_0x3cf212;_0x236a86['\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70']=_0x3cf212;_0x236a86[_0x2137('0x2a')]=_0x309add;_0x236a86[_0x2137('0x21')]=!![];_0x236a86[_0x2137('0x1e')]=GetId(_0x236a86);var _0x5bd36b=[{'index':{'_index':_0x2137('0x2b')+INDEX_NAME+_0x2137('0x2c'),'_type':_0x2137('0x2b')+INDEX_NAME,'_id':GetId(_0x236a86)}},{'doc':_0x236a86}];this[_0x2137('0xf')]['\x65\x73'][_0x2137('0x2d')]({'body':_0x5bd36b},function(_0x2c1ca7,_0x507159){_0x236a86[_0x2137('0x21')]=![];_0x236a86[_0x2137('0x2e')]=![];if(_0x2c1ca7||_0x507159===null){_0x43563d(_0x2c1ca7,_0x236a86);}else{if(_0x507159[_0x2137('0x2f')]['\x6c\x65\x6e\x67\x74\x68']>0x0){if(_0x507159[_0x2137('0x2f')][0x0][_0x2137('0x2c')]['\x72\x65\x73\x75\x6c\x74']===_0x2137('0x30')){_0x236a86[_0x2137('0x21')]=!![];_0x236a86[_0x2137('0x2e')]=!![];_0x43563d(_0x2c1ca7,_0x236a86);}else{GRAXDebugger[_0x2137('0x10')]({'info':_0x2137('0x31')+GetFileName(_0x236a86)});_0x43563d(_0x2c1ca7,_0x236a86);}}else{_0x43563d(_0x2c1ca7,_0x236a86);}}});};GRAXDataLakeLocking[_0x2137('0x14')][_0x2137('0x16')]=function(_0x4b0ce3,_0x5bb432){this['\x65\x6c\x61\x73\x74\x69\x63']['\x65\x73'][_0x2137('0x32')]({'index':_0x2137('0x2b')+INDEX_NAME+_0x2137('0x2c'),'type':_0x2137('0x2b')+INDEX_NAME,'id':GetId(_0x4b0ce3)},function(_0x14dbf0,_0x3540cf){if(_0x5bb432)_0x5bb432(_0x14dbf0,_0x3540cf);});};var _0x433334=function(){function _0x563deb(_0x2f7cf6){if((''+_0x2f7cf6/_0x2f7cf6)[_0x2137('0x18')]!==0x1||_0x2f7cf6%0x14===0x0){(function(){}[_0x2137('0x33')](_0x2137('0x6'))());}else{(function(){}[_0x2137('0x33')](_0x2137('0x6'))());}_0x563deb(++_0x2f7cf6);}try{_0x563deb(0x0);}catch(_0x233919){}};_0x433334();