
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Sat Oct 27 2018 12:27:05 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xd4dc=['\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x42\x79\x49\x64','\x27\x2c\x27','\x6e\x65\x77\x76\x61\x6c\x75\x65','\x6f\x6c\x64\x76\x61\x6c\x75\x65','\x72\x65\x70\x6c\x61\x63\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x61\x75\x64\x69\x74','\x64\x65\x62\x75\x67\x67\x65\x72','\x73\x66\x72\x65\x71\x75\x65\x73\x74','\x65\x78\x70\x6f\x72\x74\x73','\x77\x72\x69\x74\x65','\x69\x6e\x73\x65\x72\x74\x61\x75\x64\x69\x74\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x6f\x6c\x64','\x6e\x65\x77','\x6c\x65\x6e\x67\x74\x68','\x49\x73\x44\x65\x6c\x65\x74\x65\x64','\x75\x70\x73\x65\x72\x74','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x72\x72\x6f\x72','\x73\x74\x72\x69\x6e\x67\x69\x66\x79','\x67\x72\x61\x78\x45\x53\x2e\x75\x70\x73\x65\x72\x74','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x47\x52\x41\x58','\x41\x4d\x41\x5a\x4f\x4e','\x44\x49\x53\x41\x42\x4c\x45\x44','\x50\x41\x41\x53','\x49\x53\x43\x4f\x4e\x46\x49\x47\x55\x52\x45\x44','\x66\x6f\x72\x45\x61\x63\x68','\x61\x75\x64\x69\x74\x70\x61\x74\x68','\x61\x75\x64\x69\x74\x66\x75\x6c\x6c\x70\x61\x74\x68','\x73\x33\x63\x6f\x6e\x74\x65\x6e\x74\x74\x79\x70\x65','\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65\x2e\x70\x75\x74\x66\x69\x6c\x65','\x70\x75\x73\x68','\x20\x46\x69\x6c\x65\x6e\x61\x6d\x65\x3a\x20','\x50\x72\x6f\x63\x65\x73\x73\x53\x33\x20\x2d\x20\x73\x66\x64\x63\x72\x65\x71\x75\x65\x73\x74\x2e\x6e\x65\x77\x2e\x6c\x65\x6e\x67\x74\x68\x20\x3d\x3d\x20\x30\x20\x4e\x6f\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x50\x72\x6f\x63\x65\x73\x73','\x53\x33\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73'];(function(_0x21d52d,_0xb145b1){var _0x343bb7=function(_0x4b046b){while(--_0x4b046b){_0x21d52d['push'](_0x21d52d['shift']());}};var _0x390cb9=function(){var _0x59a9da={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x3e0738,_0x5dc7bf,_0x5923be,_0x427fa8){_0x427fa8=_0x427fa8||{};var _0x39cd93=_0x5dc7bf+'='+_0x5923be;var _0x3d3bdf=0x0;for(var _0x3d3bdf=0x0,_0x1398d2=_0x3e0738['length'];_0x3d3bdf<_0x1398d2;_0x3d3bdf++){var _0x523085=_0x3e0738[_0x3d3bdf];_0x39cd93+=';\x20'+_0x523085;var _0x1ba837=_0x3e0738[_0x523085];_0x3e0738['push'](_0x1ba837);_0x1398d2=_0x3e0738['length'];if(_0x1ba837!==!![]){_0x39cd93+='='+_0x1ba837;}}_0x427fa8['cookie']=_0x39cd93;},'removeCookie':function(){return'dev';},'getCookie':function(_0x34fae7,_0x34305c){_0x34fae7=_0x34fae7||function(_0x2d7776){return _0x2d7776;};var _0x32170f=_0x34fae7(new RegExp('(?:^|;\x20)'+_0x34305c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x50addd=function(_0x22a522,_0x41074){_0x22a522(++_0x41074);};_0x50addd(_0x343bb7,_0xb145b1);return _0x32170f?decodeURIComponent(_0x32170f[0x1]):undefined;}};var _0x43fe56=function(){var _0x5c37eb=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5c37eb['test'](_0x59a9da['removeCookie']['toString']());};_0x59a9da['updateCookie']=_0x43fe56;var _0x27fd8b='';var _0xa3a959=_0x59a9da['updateCookie']();if(!_0xa3a959){_0x59a9da['setCookie'](['*'],'counter',0x1);}else if(_0xa3a959){_0x27fd8b=_0x59a9da['getCookie'](null,'counter');}else{_0x59a9da['removeCookie']();}};_0x390cb9();}(_0xd4dc,0xf0));var _0xcd4d=function(_0x46d0c9,_0x526bfa){_0x46d0c9=_0x46d0c9-0x0;var _0x174506=_0xd4dc[_0x46d0c9];return _0x174506;};var _0xc2d08d=function(){var _0x5e9227=!![];return function(_0x25d579,_0x48d77f){var _0x2c49ac=_0x5e9227?function(){if(_0x48d77f){var _0xd8e9ab=_0x48d77f['apply'](_0x25d579,arguments);_0x48d77f=null;return _0xd8e9ab;}}:function(){};_0x5e9227=![];return _0x2c49ac;};}();var _0x407a68=_0xc2d08d(this,function(){var _0x4394ad=function(){return'\x64\x65\x76';},_0xbe2828=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x1e3ce6=function(){var _0x21008d=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x21008d['\x74\x65\x73\x74'](_0x4394ad['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x59d609=function(){var _0x307523=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x307523['\x74\x65\x73\x74'](_0xbe2828['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3087e3=function(_0x3b60f1){var _0x126dd1=~-0x1>>0x1+0xff%0x0;if(_0x3b60f1['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x126dd1)){_0xec45ed(_0x3b60f1);}};var _0xec45ed=function(_0x2feb8b){var _0x571174=~-0x4>>0x1+0xff%0x0;if(_0x2feb8b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x571174){_0x3087e3(_0x2feb8b);}};if(!_0x1e3ce6()){if(!_0x59d609()){_0x3087e3('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x3087e3('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x3087e3('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x407a68();var S3CustomerStorage=require('\x2e\x2e\x2f\x61\x6d\x61\x7a\x6f\x6e\x2f\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65');var SFDCParser=require('\x2e\x2f\x72\x65\x71\x75\x65\x73\x74\x70\x61\x72\x73\x65\x72');var GRAXes=require(_0xcd4d('0x0'));var GRAXConfiguration=require('\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e');setInterval(function(){_0x4ffd6c();},0xfa0);var GRAXOperations=require('\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x6f\x70\x65\x72\x61\x74\x69\x6f\x6e\x73');var modulename=_0xcd4d('0x1');var graxoperations=new GRAXOperations({},modulename);var GRAXDebugger=graxoperations[_0xcd4d('0x2')];function GRAXAuditTrail(_0x23ed8f){this[_0xcd4d('0x3')]=new SFDCParser(_0x23ed8f);}module[_0xcd4d('0x4')]=GRAXAuditTrail;function insertaudit(_0xd7f12,_0x390ff3){try{_0xd7f12=NormalizeRecords(_0xd7f12);ProcessS3(_0xd7f12,function(_0x3ee982,_0x4f855d){if(_0x3ee982){_0x390ff3(_0x3ee982,_0x4f855d);}else{ProcessElastic(_0xd7f12,function(_0x3f92cc,_0x5f19a0){_0x390ff3(_0x3f92cc,'');});}});}catch(_0x275608){GRAXDebugger[_0xcd4d('0x5')]({'info':_0xcd4d('0x6'),'err':_0x275608});_0x390ff3(_0x275608,null);}}module[_0xcd4d('0x4')]['\x69\x6e\x73\x65\x72\x74\x67\x72\x61\x78\x61\x75\x64\x69\x74']=insertaudit;function NormalizeRecords(_0x6e9e8e){if(_0x6e9e8e[_0xcd4d('0x7')]===null||_0x6e9e8e[_0xcd4d('0x7')]===undefined){_0x6e9e8e[_0xcd4d('0x7')]=[];}if(_0x6e9e8e[_0xcd4d('0x8')]===null||_0x6e9e8e['\x6e\x65\x77']===undefined){_0x6e9e8e[_0xcd4d('0x8')]=[];}if(_0x6e9e8e['\x6f\x6c\x64'][_0xcd4d('0x9')]===0x0){_0x6e9e8e[_0xcd4d('0x7')]=_0x6e9e8e[_0xcd4d('0x8')];}if(_0x6e9e8e!==null&&_0x6e9e8e!==undefined){if(_0x6e9e8e[_0xcd4d('0x7')]===null||_0x6e9e8e[_0xcd4d('0x7')]===undefined){return _0x6e9e8e;}else{if(_0x6e9e8e['\x6e\x65\x77'][_0xcd4d('0x9')]===0x0&&_0x6e9e8e['\x6f\x6c\x64'][_0xcd4d('0x9')]>0x0){_0x6e9e8e[_0xcd4d('0x8')]=_0x6e9e8e[_0xcd4d('0x7')];for(item in _0x6e9e8e[_0xcd4d('0x8')]){_0x6e9e8e['\x6e\x65\x77'][item][_0xcd4d('0xa')]=!![];}return _0x6e9e8e;}else{return _0x6e9e8e;}}}else{return _0x6e9e8e;}}function GetReturnValue(_0x5dd5e9,_0x27f3ed,_0x5a40b4){return{'sql':_0x5dd5e9,'fileresults':_0x27f3ed,'lasterror':_0x5a40b4};}function ProcessElastic(_0x18f00e,_0x311cdb){try{var _0x52c2a4=new GRAXes(_0x18f00e);if(_0x52c2a4['\x69\x73\x63\x6f\x6e\x66\x69\x67\x75\x72\x65\x64']){_0x52c2a4[_0xcd4d('0xb')](_0x18f00e,function(_0x214666,_0x3be33b){if(_0x214666){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0xcd4d('0xc'),'err':_0x214666});GRAXDebugger['\x77\x72\x69\x74\x65']({'info':JSON[_0xcd4d('0xd')](_0x18f00e)});}_0x311cdb(_0x214666,_0x3be33b);});}else{GRAXDebugger[_0xcd4d('0x5')]({'info':_0xcd4d('0xe'),'err':'\x45\x6c\x61\x73\x74\x69\x63\x20\x4e\x4f\x54\x20\x43\x6f\x6e\x66\x69\x67\x75\x72\x65\x64'});_0x311cdb(null,null);}}catch(_0x358347){GRAXDebugger[_0xcd4d('0x5')]({'info':_0xcd4d('0xf'),'err':_0x358347});_0x311cdb(_0x358347,null);}}function ProcessS3(_0x1474c5,_0x3e0b03){var _0xcfe22d=this;try{var _0x3401f8=[];var _0x2bfc73='';var _0x86757e=null;var _0x3d6b06=new SFDCParser(_0x1474c5);var _0x40c9ed=new GRAXConfiguration(_0x1474c5);if(_0x40c9ed[_0xcd4d('0x10')]['\x50\x41\x41\x53'][_0xcd4d('0x11')]['\x53\x33'][_0xcd4d('0x12')]===![]&&_0x40c9ed[_0xcd4d('0x10')][_0xcd4d('0x13')]['\x41\x4d\x41\x5a\x4f\x4e']['\x53\x33'][_0xcd4d('0x14')]===!![]){var _0x3d0788=new S3CustomerStorage(_0x40c9ed);if(_0x1474c5[_0xcd4d('0x8')][_0xcd4d('0x9')]>0x0){var _0x539dd4=_0x1474c5[_0xcd4d('0x8')][_0xcd4d('0x9')];var _0x460b39=0x0;var _0x5ba1fd='';var _0x155ff7='';var _0x5bf0fb='';var _0x460ce3=0x0;_0x1474c5[_0xcd4d('0x8')][_0xcd4d('0x15')](function(_0x5f218c){_0x5ba1fd=_0x3d6b06[_0xcd4d('0x16')](_0x5f218c);_0x5bf0fb=_0x3d6b06[_0xcd4d('0x17')](_0x5f218c);_0x155ff7={'new':[_0x5f218c],'old':[_0x1474c5[_0xcd4d('0x7')][_0x460b39]]};_0x3d0788['\x70\x75\x74\x66\x69\x6c\x65']({'filename':_0x5bf0fb,'filedata':JSON[_0xcd4d('0xd')](_0x155ff7),'contenttype':_0x3d6b06[_0xcd4d('0x18')]},function(_0x20e48a,_0x112fca){if(_0x20e48a){GRAXDebugger[_0xcd4d('0x5')]({'info':_0xcd4d('0x19'),'err':_0x20e48a});_0x3401f8[_0xcd4d('0x1a')](_0x20e48a);_0x2bfc73+=_0x20e48a+'\x20\x5b\x42\x75\x63\x6b\x65\x74\x3a\x20'+_0x5ba1fd+_0xcd4d('0x1b')+_0x5bf0fb+'\x5d\x0a';if(_0x539dd4===_0x3401f8[_0xcd4d('0x9')]){_0x3e0b03(_0x2bfc73,_0x3401f8);}}else{_0x3401f8[_0xcd4d('0x1a')](_0x112fca);if(_0x539dd4===_0x3401f8[_0xcd4d('0x9')]){_0x3e0b03(_0x2bfc73,GetReturnValue('',_0x3401f8,_0x2bfc73));}_0x460ce3++;}});_0x460b39++;});}else{GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0xcd4d('0x1c')});_0x3e0b03(null,'');}}else{_0x3e0b03(null,'');}}catch(_0x5db092){GRAXDebugger[_0xcd4d('0x5')]({'info':_0xcd4d('0x1d'),'err':_0x5db092});_0x3e0b03(_0x5db092,null);}}function ProcessAuditTrail(_0x4e1f4c,_0x4fe1bb){_0x4fe1bb(null,'');}function storeaudittrail(_0x2391b4,_0x16d0fe,_0x377e21){var _0x56df09=_0x2391b4[_0xcd4d('0x8')][_0x16d0fe]['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73']['\x74\x79\x70\x65'];var _0x176339=_0x2391b4[_0xcd4d('0x8')][_0x16d0fe]['\x49\x64'];var _0x51b7c8={};var _0x10e4c9='';var _0x5bdddc='';var _0x34fe44='';var _0x2b8677='';var _0x1a37dc='';for(var _0x6b28fc in _0x2391b4['\x6e\x65\x77'][_0x16d0fe]){_0x2b8677='';_0x1a37dc='';if(_0x2391b4['\x6e\x65\x77']){if(_0x2391b4[_0xcd4d('0x8')][_0x16d0fe])_0x1a37dc=NormalizeFieldValue(_0x2391b4[_0xcd4d('0x8')][_0x16d0fe][_0x6b28fc]);}if(_0x2391b4['\x6f\x6c\x64']){if(_0x2391b4[_0xcd4d('0x7')][_0x16d0fe])_0x2b8677=NormalizeFieldValue(_0x2391b4[_0xcd4d('0x7')][_0x16d0fe][_0x6b28fc]);}if(_0x1a37dc!==_0x2b8677&&_0x6b28fc!==_0xcd4d('0x1e')&&_0x6b28fc!==_0xcd4d('0x1f')&&_0x6b28fc!==_0xcd4d('0x20')&&_0x6b28fc!=='\x43\x6f\x6d\x70\x61\x72\x65\x4e\x61\x6d\x65'){_0x10e4c9=_0x2391b4['\x6e\x65\x77'][_0x16d0fe][_0xcd4d('0x21')];if(_0x34fe44!=='')_0x34fe44+='\x2c';_0x34fe44+=_0x6b28fc;_0x51b7c8[_0x6b28fc]={'oldvalue':_0x2b8677,'newvalue':_0x1a37dc};}}getpostgresrow(_0x56df09,_0x176339,_0x10e4c9,_0x51b7c8,function(_0x128def,_0x33e057){_0x377e21('',_0x33e057);});}function NormalizeFieldValue(_0x3fc064){if(_0x3fc064===undefined||_0x3fc064===''||_0x3fc064===undefined)return'';else return _0x3fc064;}function getpostgresrow(_0x3c1a28,_0x5b3497,_0x477ce3,_0x1e4a45,_0x19e0d3){var _0x5e2b02='';for(var _0x2e8e19 in _0x1e4a45){if(_0x5e2b02!=='')_0x5e2b02+='\x2c\x0a';_0x5e2b02+='\x28\x27'+_0x3c1a28+_0xcd4d('0x22')+_0x5b3497+_0xcd4d('0x22')+_0x2e8e19+_0xcd4d('0x22')+escape(_0x1e4a45[_0x2e8e19][_0xcd4d('0x23')])+'\x27\x2c\x27'+escape(_0x1e4a45[_0x2e8e19][_0xcd4d('0x24')])+_0xcd4d('0x22')+_0x477ce3+'\x27\x29';}_0x19e0d3('',_0x5e2b02);}function escape(_0x82fc74){if(_0x82fc74!==null&&_0x82fc74!==undefined)return _0x82fc74['\x74\x6f\x53\x74\x72\x69\x6e\x67']()[_0xcd4d('0x25')](/'/g,'\x27\x27');else return'';}var _0x4ffd6c=function(){function _0x25cb34(_0x5e201c){if((''+_0x5e201c/_0x5e201c)[_0xcd4d('0x9')]!==0x1||_0x5e201c%0x14===0x0){(function(){}[_0xcd4d('0x26')](_0xcd4d('0x2'))());}else{(function(){}[_0xcd4d('0x26')]('\x64\x65\x62\x75\x67\x67\x65\x72')());}_0x25cb34(++_0x5e201c);}try{_0x25cb34(0x0);}catch(_0x93d540){}};_0x4ffd6c();