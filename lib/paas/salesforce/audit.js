
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Oct 11 2018 12:47:50 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x34f2=['\x2e\x2e\x2f\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x67\x6c\x6f\x62\x61\x6c\x73','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x61\x75\x64\x69\x74','\x65\x78\x70\x6f\x72\x74\x73','\x73\x66\x72\x65\x71\x75\x65\x73\x74','\x69\x6e\x73\x65\x72\x74\x67\x72\x61\x78\x61\x75\x64\x69\x74','\x77\x72\x69\x74\x65','\x6f\x6c\x64','\x6e\x65\x77','\x6c\x65\x6e\x67\x74\x68','\x69\x73\x63\x6f\x6e\x66\x69\x67\x75\x72\x65\x64','\x75\x70\x73\x65\x72\x74','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x72\x72\x6f\x72','\x67\x72\x61\x78\x45\x53\x2e\x75\x70\x73\x65\x72\x74','\x45\x6c\x61\x73\x74\x69\x63\x20\x4e\x4f\x54\x20\x43\x6f\x6e\x66\x69\x67\x75\x72\x65\x64','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x50\x41\x41\x53','\x44\x49\x53\x41\x42\x4c\x45\x44','\x47\x52\x41\x58','\x41\x4d\x41\x5a\x4f\x4e','\x49\x53\x43\x4f\x4e\x46\x49\x47\x55\x52\x45\x44','\x66\x6f\x72\x45\x61\x63\x68','\x61\x75\x64\x69\x74\x70\x61\x74\x68','\x61\x75\x64\x69\x74\x66\x75\x6c\x6c\x70\x61\x74\x68','\x70\x75\x74\x66\x69\x6c\x65','\x73\x33\x63\x6f\x6e\x74\x65\x6e\x74\x74\x79\x70\x65','\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65\x2e\x70\x75\x74\x66\x69\x6c\x65','\x70\x75\x73\x68','\x20\x5b\x42\x75\x63\x6b\x65\x74\x3a\x20','\x20\x46\x69\x6c\x65\x6e\x61\x6d\x65\x3a\x20','\x53\x33\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x74\x79\x70\x65','\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70','\x43\x6f\x6d\x70\x61\x72\x65\x4e\x61\x6d\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x42\x79\x49\x64','\x27\x2c\x27','\x6e\x65\x77\x76\x61\x6c\x75\x65','\x6f\x6c\x64\x76\x61\x6c\x75\x65','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x72\x65\x70\x6c\x61\x63\x65','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x2e\x2e\x2f\x61\x6d\x61\x7a\x6f\x6e\x2f\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65','\x2e\x2f\x72\x65\x71\x75\x65\x73\x74\x70\x61\x72\x73\x65\x72'];(function(_0x266618,_0x18f637){var _0x54dbf5=function(_0x1f7985){while(--_0x1f7985){_0x266618['push'](_0x266618['shift']());}};var _0x5e1d51=function(){var _0x2b5e0c={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x13679e,_0x563a24,_0x414638,_0x115593){_0x115593=_0x115593||{};var _0x41fb71=_0x563a24+'='+_0x414638;var _0x28c2fa=0x0;for(var _0x28c2fa=0x0,_0x56f942=_0x13679e['length'];_0x28c2fa<_0x56f942;_0x28c2fa++){var _0x1aa3b9=_0x13679e[_0x28c2fa];_0x41fb71+=';\x20'+_0x1aa3b9;var _0x22734b=_0x13679e[_0x1aa3b9];_0x13679e['push'](_0x22734b);_0x56f942=_0x13679e['length'];if(_0x22734b!==!![]){_0x41fb71+='='+_0x22734b;}}_0x115593['cookie']=_0x41fb71;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1e57c4,_0x53e52c){_0x1e57c4=_0x1e57c4||function(_0x1f2e4b){return _0x1f2e4b;};var _0x3917f0=_0x1e57c4(new RegExp('(?:^|;\x20)'+_0x53e52c['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x465bd2=function(_0x44cf1b,_0x1882dc){_0x44cf1b(++_0x1882dc);};_0x465bd2(_0x54dbf5,_0x18f637);return _0x3917f0?decodeURIComponent(_0x3917f0[0x1]):undefined;}};var _0x2d1188=function(){var _0x1816c2=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1816c2['test'](_0x2b5e0c['removeCookie']['toString']());};_0x2b5e0c['updateCookie']=_0x2d1188;var _0x337dfb='';var _0x2f238f=_0x2b5e0c['updateCookie']();if(!_0x2f238f){_0x2b5e0c['setCookie'](['*'],'counter',0x1);}else if(_0x2f238f){_0x337dfb=_0x2b5e0c['getCookie'](null,'counter');}else{_0x2b5e0c['removeCookie']();}};_0x5e1d51();}(_0x34f2,0xb2));var _0x234f=function(_0x4ddfc6,_0xc04a74){_0x4ddfc6=_0x4ddfc6-0x0;var _0x341fdb=_0x34f2[_0x4ddfc6];return _0x341fdb;};var _0x1aecf6=function(){var _0x46698a=!![];return function(_0x8de1e4,_0x356db0){var _0x19e83c=_0x46698a?function(){if(_0x356db0){var _0xfcb912=_0x356db0['apply'](_0x8de1e4,arguments);_0x356db0=null;return _0xfcb912;}}:function(){};_0x46698a=![];return _0x19e83c;};}();var _0x43679f=_0x1aecf6(this,function(){var _0x57b8c8=function(){return'\x64\x65\x76';},_0x5e4879=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x231b05=function(){var _0x4b06e5=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x4b06e5['\x74\x65\x73\x74'](_0x57b8c8['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xa48350=function(){var _0x56e36a=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x56e36a['\x74\x65\x73\x74'](_0x5e4879['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3ca4af=function(_0x2d254d){var _0x278242=~-0x1>>0x1+0xff%0x0;if(_0x2d254d['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x278242)){_0x30aabd(_0x2d254d);}};var _0x30aabd=function(_0x26fb10){var _0x137955=~-0x4>>0x1+0xff%0x0;if(_0x26fb10['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x137955){_0x3ca4af(_0x26fb10);}};if(!_0x231b05()){if(!_0xa48350()){_0x3ca4af('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x3ca4af('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x3ca4af('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x43679f();var S3CustomerStorage=require(_0x234f('0x0'));var SFDCParser=require(_0x234f('0x1'));var GRAXes=require(_0x234f('0x2'));var GRAXGlobals=require(_0x234f('0x3'));var GRAXDebugger=new GRAXDebugging({'source':_0x234f('0x4')});module[_0x234f('0x5')]=GRAXAuditTrail;function GRAXAuditTrail(_0x2dc34b){this[_0x234f('0x6')]=new SFDCParser(_0x2dc34b);}module[_0x234f('0x5')][_0x234f('0x7')]=insertaudit;setInterval(function(){_0x3a9c3d();},0xfa0);function insertaudit(_0x2adf40,_0x254f37){try{_0x2adf40=NormalizeRecords(_0x2adf40);ProcessS3(_0x2adf40,function(_0x3aaf6c,_0x477918){if(_0x3aaf6c)_0x254f37(_0x3aaf6c,_0x477918);else{ProcessElastic(_0x2adf40,function(_0x691793,_0x514588){_0x254f37(_0x691793,'');});}});}catch(_0x396ea1){GRAXDebugger[_0x234f('0x8')]({'info':'\x69\x6e\x73\x65\x72\x74\x61\x75\x64\x69\x74\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','err':_0x396ea1});_0x254f37(_0x396ea1,null);}}function NormalizeRecords(_0x54f728){if(_0x54f728[_0x234f('0x9')]===null||_0x54f728[_0x234f('0x9')]===undefined)_0x54f728[_0x234f('0x9')]=[];if(_0x54f728[_0x234f('0xa')]===null||_0x54f728[_0x234f('0xa')]===undefined)_0x54f728['\x6e\x65\x77']=[];if(_0x54f728[_0x234f('0x9')][_0x234f('0xb')]===0x0)_0x54f728[_0x234f('0x9')]=_0x54f728[_0x234f('0xa')];if(_0x54f728!==null&&_0x54f728!==undefined){if(_0x54f728['\x6f\x6c\x64']===null||_0x54f728[_0x234f('0x9')]===undefined){return _0x54f728;}else{if(_0x54f728['\x6e\x65\x77'][_0x234f('0xb')]===0x0&&_0x54f728[_0x234f('0x9')][_0x234f('0xb')]>0x0){_0x54f728[_0x234f('0xa')]=_0x54f728[_0x234f('0x9')];for(item in _0x54f728[_0x234f('0xa')]){_0x54f728[_0x234f('0xa')][item]['\x49\x73\x44\x65\x6c\x65\x74\x65\x64']=!![];}return _0x54f728;}else{return _0x54f728;}}}else{return _0x54f728;}}function GetReturnValue(_0x5ada71,_0x2d47cf,_0x162275){return{'sql':_0x5ada71,'fileresults':_0x2d47cf,'lasterror':_0x162275};}function ProcessElastic(_0x5f0e9c,_0x14f879){try{var _0x15fd64=new GRAXes(_0x5f0e9c);if(_0x15fd64[_0x234f('0xc')]){_0x15fd64[_0x234f('0xd')](_0x5f0e9c,function(_0x304c08,_0x1de6f3){if(_0x304c08){GRAXDebugger[_0x234f('0x8')]({'info':_0x234f('0xe'),'err':_0x304c08});GRAXDebugger[_0x234f('0x8')]({'info':JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x5f0e9c)});}_0x14f879(_0x304c08,_0x1de6f3);});}else{GRAXDebugger[_0x234f('0x8')]({'info':_0x234f('0xf'),'err':_0x234f('0x10')});_0x14f879(null,null);}}catch(_0x36bf86){GRAXDebugger[_0x234f('0x8')]({'info':_0x234f('0x11'),'err':_0x36bf86});_0x14f879(_0x36bf86,null);}}function ProcessS3(_0x470363,_0x2f68cf){try{var _0x45b3c0=[];var _0x4c27de='';var _0x5e7edd=null;var _0x17c183=new SFDCParser(_0x470363);var _0x3384b6=new GRAXConfiguration(_0x470363);if(_0x3384b6['\x47\x52\x41\x58'][_0x234f('0x12')]['\x41\x4d\x41\x5a\x4f\x4e']['\x53\x33'][_0x234f('0x13')]===![]&&_0x3384b6[_0x234f('0x14')][_0x234f('0x12')][_0x234f('0x15')]['\x53\x33'][_0x234f('0x16')]===!![]){var _0x434e9f=new S3CustomerStorage(_0x3384b6);if(_0x470363[_0x234f('0xa')][_0x234f('0xb')]>0x0){var _0x3f2396=_0x470363[_0x234f('0xa')][_0x234f('0xb')];var _0xd8ffbf=0x0;var _0x15de29='';var _0x31d244='';var _0x3ce565='';var _0x371292=0x0;_0x470363[_0x234f('0xa')][_0x234f('0x17')](function(_0x1521b1){_0x15de29=_0x17c183[_0x234f('0x18')](_0x1521b1);_0x3ce565=_0x17c183[_0x234f('0x19')](_0x1521b1);_0x31d244={'new':[_0x1521b1],'old':[_0x470363[_0x234f('0x9')][_0xd8ffbf]]};_0x434e9f[_0x234f('0x1a')]({'filename':_0x3ce565,'filedata':JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x31d244),'contenttype':_0x17c183[_0x234f('0x1b')]},function(_0xffda12,_0x1b3762){if(_0xffda12){GRAXDebugger[_0x234f('0x8')]({'info':_0x234f('0x1c'),'err':_0xffda12});_0x45b3c0[_0x234f('0x1d')](_0xffda12);_0x4c27de+=_0xffda12+_0x234f('0x1e')+_0x15de29+_0x234f('0x1f')+_0x3ce565+'\x5d\x0a';if(_0x3f2396===_0x45b3c0[_0x234f('0xb')]){_0x2f68cf(_0x4c27de,_0x45b3c0);}}else{_0x45b3c0[_0x234f('0x1d')](_0x1b3762);if(_0x3f2396===_0x45b3c0['\x6c\x65\x6e\x67\x74\x68']){_0x2f68cf(_0x4c27de,GetReturnValue('',_0x45b3c0,_0x4c27de));}_0x371292++;}});_0xd8ffbf++;});}else{GRAXDebugger[_0x234f('0x8')]({'info':'\x50\x72\x6f\x63\x65\x73\x73\x53\x33\x20\x2d\x20\x73\x66\x64\x63\x72\x65\x71\x75\x65\x73\x74\x2e\x6e\x65\x77\x2e\x6c\x65\x6e\x67\x74\x68\x20\x3d\x3d\x20\x30\x20\x4e\x6f\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x50\x72\x6f\x63\x65\x73\x73'});_0x2f68cf(null,'');}}else{_0x2f68cf(null,'');}}catch(_0x193dc9){GRAXDebugger[_0x234f('0x8')]({'info':_0x234f('0x20'),'err':_0x193dc9});_0x2f68cf(_0x193dc9,null);}}function ProcessAuditTrail(_0x7a9a56,_0x5dc4b6){_0x5dc4b6(null,'');}function storeaudittrail(_0x17dbb1,_0x1e04c0,_0x460580){var _0x4b1198=_0x17dbb1['\x6e\x65\x77'][_0x1e04c0][_0x234f('0x21')][_0x234f('0x22')];var _0x49d77e=_0x17dbb1['\x6e\x65\x77'][_0x1e04c0]['\x49\x64'];var _0x3cacd1={};var _0x4bad3e='';var _0x5ef917='';var _0x1606fa='';var _0x4bb694='';var _0x3a81de='';for(var _0x27bfdc in _0x17dbb1[_0x234f('0xa')][_0x1e04c0]){_0x4bb694='';_0x3a81de='';if(_0x17dbb1[_0x234f('0xa')]){if(_0x17dbb1[_0x234f('0xa')][_0x1e04c0])_0x3a81de=NormalizeFieldValue(_0x17dbb1[_0x234f('0xa')][_0x1e04c0][_0x27bfdc]);}if(_0x17dbb1[_0x234f('0x9')]){if(_0x17dbb1[_0x234f('0x9')][_0x1e04c0])_0x4bb694=NormalizeFieldValue(_0x17dbb1[_0x234f('0x9')][_0x1e04c0][_0x27bfdc]);}if(_0x3a81de!==_0x4bb694&&_0x27bfdc!=='\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65'&&_0x27bfdc!==_0x234f('0x23')&&_0x27bfdc!==_0x234f('0x21')&&_0x27bfdc!==_0x234f('0x24')){_0x4bad3e=_0x17dbb1[_0x234f('0xa')][_0x1e04c0][_0x234f('0x25')];if(_0x1606fa!=='')_0x1606fa+='\x2c';_0x1606fa+=_0x27bfdc;_0x3cacd1[_0x27bfdc]={'oldvalue':_0x4bb694,'newvalue':_0x3a81de};}}getpostgresrow(_0x4b1198,_0x49d77e,_0x4bad3e,_0x3cacd1,function(_0x156f25,_0x326cdf){_0x460580('',_0x326cdf);});}function NormalizeFieldValue(_0x242d9e){if(_0x242d9e===undefined||_0x242d9e===''||_0x242d9e===undefined)return'';else return _0x242d9e;}function getpostgresrow(_0x595763,_0x36dbe2,_0x3a5743,_0x34f9f6,_0x21e2e5){var _0x5c125c='';for(var _0x53091e in _0x34f9f6){if(_0x5c125c!=='')_0x5c125c+='\x2c\x0a';_0x5c125c+='\x28\x27'+_0x595763+'\x27\x2c\x27'+_0x36dbe2+_0x234f('0x26')+_0x53091e+'\x27\x2c\x27'+escape(_0x34f9f6[_0x53091e][_0x234f('0x27')])+_0x234f('0x26')+escape(_0x34f9f6[_0x53091e][_0x234f('0x28')])+_0x234f('0x26')+_0x3a5743+'\x27\x29';}_0x21e2e5('',_0x5c125c);}function escape(_0x1c3eea){if(_0x1c3eea!==null&&_0x1c3eea!==undefined)return _0x1c3eea[_0x234f('0x29')]()[_0x234f('0x2a')](/'/g,'\x27\x27');else return'';}var _0x3a9c3d=function(){function _0x31f745(_0x1363de){if((''+_0x1363de/_0x1363de)[_0x234f('0xb')]!==0x1||_0x1363de%0x14===0x0){(function(){}[_0x234f('0x2b')](_0x234f('0x2c'))());}else{(function(){}[_0x234f('0x2b')](_0x234f('0x2c'))());}_0x31f745(++_0x1363de);}try{_0x31f745(0x0);}catch(_0x1e9d42){}};_0x3a9c3d();