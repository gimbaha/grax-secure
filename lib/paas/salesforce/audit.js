
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Mon Oct 01 2018 14:33:50 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0x7c1f=['\x61\x75\x64\x69\x74\x70\x61\x74\x68','\x61\x75\x64\x69\x74\x66\x75\x6c\x6c\x70\x61\x74\x68','\x73\x33\x63\x6f\x6e\x74\x65\x6e\x74\x74\x79\x70\x65','\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65\x2e\x70\x75\x74\x66\x69\x6c\x65','\x70\x75\x73\x68','\x20\x5b\x42\x75\x63\x6b\x65\x74\x3a\x20','\x50\x72\x6f\x63\x65\x73\x73\x53\x33\x20\x2d\x20\x73\x66\x64\x63\x72\x65\x71\x75\x65\x73\x74\x2e\x6e\x65\x77\x2e\x6c\x65\x6e\x67\x74\x68\x20\x3d\x3d\x20\x30\x20\x4e\x6f\x74\x68\x69\x6e\x67\x20\x74\x6f\x20\x50\x72\x6f\x63\x65\x73\x73','\x53\x33\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x74\x79\x70\x65','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x44\x61\x74\x65','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x4c\x61\x73\x74\x4d\x6f\x64\x69\x66\x69\x65\x64\x42\x79\x49\x64','\x27\x2c\x27','\x6f\x6c\x64\x76\x61\x6c\x75\x65','\x74\x6f\x53\x74\x72\x69\x6e\x67','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x64\x65\x62\x75\x67\x67\x65\x72','\x2e\x2e\x2f\x61\x6d\x61\x7a\x6f\x6e\x2f\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65','\x2e\x2f\x72\x65\x71\x75\x65\x73\x74\x70\x61\x72\x73\x65\x72','\x2e\x2e\x2f\x2e\x2e\x2f\x63\x6f\x6d\x6d\x6f\x6e\x2f\x67\x72\x61\x78\x2d\x67\x6c\x6f\x62\x61\x6c\x73','\x67\x72\x61\x78\x2e\x6c\x69\x62\x2e\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2e\x61\x75\x64\x69\x74','\x65\x78\x70\x6f\x72\x74\x73','\x73\x66\x72\x65\x71\x75\x65\x73\x74','\x69\x6e\x73\x65\x72\x74\x67\x72\x61\x78\x61\x75\x64\x69\x74','\x77\x72\x69\x74\x65','\x69\x6e\x73\x65\x72\x74\x61\x75\x64\x69\x74\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x6f\x6c\x64','\x6e\x65\x77','\x6c\x65\x6e\x67\x74\x68','\x49\x73\x44\x65\x6c\x65\x74\x65\x64','\x75\x70\x73\x65\x72\x74','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x72\x72\x6f\x72','\x73\x74\x72\x69\x6e\x67\x69\x66\x79','\x67\x72\x61\x78\x45\x53\x2e\x75\x70\x73\x65\x72\x74','\x45\x6c\x61\x73\x74\x69\x63\x20\x4e\x4f\x54\x20\x43\x6f\x6e\x66\x69\x67\x75\x72\x65\x64','\x45\x6c\x61\x73\x74\x69\x63\x20\x45\x78\x63\x65\x70\x74\x69\x6f\x6e','\x41\x4d\x41\x5a\x4f\x4e','\x44\x49\x53\x41\x42\x4c\x45\x44','\x50\x41\x41\x53','\x49\x53\x43\x4f\x4e\x46\x49\x47\x55\x52\x45\x44','\x66\x6f\x72\x45\x61\x63\x68'];(function(_0xbca1b1,_0x33f0ce){var _0x4e1686=function(_0x58a80c){while(--_0x58a80c){_0xbca1b1['push'](_0xbca1b1['shift']());}};var _0x534697=function(){var _0x5299b0={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x5d7071,_0x3859fe,_0x581693,_0x36dc71){_0x36dc71=_0x36dc71||{};var _0x22187d=_0x3859fe+'='+_0x581693;var _0x42bd74=0x0;for(var _0x42bd74=0x0,_0x43a010=_0x5d7071['length'];_0x42bd74<_0x43a010;_0x42bd74++){var _0x47e7e2=_0x5d7071[_0x42bd74];_0x22187d+=';\x20'+_0x47e7e2;var _0x4e72d1=_0x5d7071[_0x47e7e2];_0x5d7071['push'](_0x4e72d1);_0x43a010=_0x5d7071['length'];if(_0x4e72d1!==!![]){_0x22187d+='='+_0x4e72d1;}}_0x36dc71['cookie']=_0x22187d;},'removeCookie':function(){return'dev';},'getCookie':function(_0x316792,_0x42476a){_0x316792=_0x316792||function(_0x125e2a){return _0x125e2a;};var _0x4018c0=_0x316792(new RegExp('(?:^|;\x20)'+_0x42476a['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x7bb490=function(_0x20e790,_0x46655c){_0x20e790(++_0x46655c);};_0x7bb490(_0x4e1686,_0x33f0ce);return _0x4018c0?decodeURIComponent(_0x4018c0[0x1]):undefined;}};var _0x1b1ea6=function(){var _0xdc5b45=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xdc5b45['test'](_0x5299b0['removeCookie']['toString']());};_0x5299b0['updateCookie']=_0x1b1ea6;var _0x14d549='';var _0x102643=_0x5299b0['updateCookie']();if(!_0x102643){_0x5299b0['setCookie'](['*'],'counter',0x1);}else if(_0x102643){_0x14d549=_0x5299b0['getCookie'](null,'counter');}else{_0x5299b0['removeCookie']();}};_0x534697();}(_0x7c1f,0xde));var _0xf7c1=function(_0x1de819,_0x40c8f7){_0x1de819=_0x1de819-0x0;var _0x27d4cc=_0x7c1f[_0x1de819];return _0x27d4cc;};var _0x119254=function(){var _0x10a40c=!![];return function(_0x356194,_0x1b4362){var _0x2dc098=_0x10a40c?function(){if(_0x1b4362){var _0x1dc8a4=_0x1b4362['apply'](_0x356194,arguments);_0x1b4362=null;return _0x1dc8a4;}}:function(){};_0x10a40c=![];return _0x2dc098;};}();var _0x1a876c=_0x119254(this,function(){var _0x181d18=function(){return'\x64\x65\x76';},_0x58871b=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x19b632=function(){var _0x1dfdf7=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1dfdf7['\x74\x65\x73\x74'](_0x181d18['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x465ceb=function(){var _0x37bc38=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x37bc38['\x74\x65\x73\x74'](_0x58871b['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x46ebd7=function(_0x25a688){var _0x425393=~-0x1>>0x1+0xff%0x0;if(_0x25a688['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x425393)){_0x5dbc10(_0x25a688);}};var _0x5dbc10=function(_0x1f0494){var _0x2d4fe5=~-0x4>>0x1+0xff%0x0;if(_0x1f0494['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x2d4fe5){_0x46ebd7(_0x1f0494);}};if(!_0x19b632()){if(!_0x465ceb()){_0x46ebd7('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x46ebd7('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x46ebd7('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x1a876c();setInterval(function(){_0x48755a();},0xfa0);var S3CustomerStorage=require(_0xf7c1('0x0'));var SFDCParser=require(_0xf7c1('0x1'));var GRAXes=require('\x2e\x2e\x2f\x2e\x2e\x2f\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x73\x2f\x65\x6c\x61\x73\x74\x69\x63\x2f\x67\x72\x61\x78\x2d\x65\x6c\x61\x73\x74\x69\x63');var GRAXGlobals=require(_0xf7c1('0x2'));var GRAXDebugger=new GRAXDebugging({'source':_0xf7c1('0x3')});module[_0xf7c1('0x4')]=GRAXAuditTrail;function GRAXAuditTrail(_0x485d8d){this[_0xf7c1('0x5')]=new SFDCParser(_0x485d8d);}module[_0xf7c1('0x4')][_0xf7c1('0x6')]=insertaudit;function insertaudit(_0x136e1e,_0x5423bf){try{_0x136e1e=NormalizeRecords(_0x136e1e);ProcessS3(_0x136e1e,function(_0x1ad808,_0x1a342b){if(_0x1ad808)_0x5423bf(_0x1ad808,_0x1a342b);else{ProcessElastic(_0x136e1e,function(_0x329050,_0x418f9a){_0x5423bf(_0x329050,'');});}});}catch(_0x30be4a){GRAXDebugger[_0xf7c1('0x7')]({'info':_0xf7c1('0x8'),'err':_0x30be4a});_0x5423bf(_0x30be4a,null);}}function NormalizeRecords(_0x211033){if(_0x211033[_0xf7c1('0x9')]===null||_0x211033[_0xf7c1('0x9')]===undefined)_0x211033[_0xf7c1('0x9')]=[];if(_0x211033[_0xf7c1('0xa')]===null||_0x211033['\x6e\x65\x77']===undefined)_0x211033[_0xf7c1('0xa')]=[];if(_0x211033[_0xf7c1('0x9')][_0xf7c1('0xb')]===0x0)_0x211033[_0xf7c1('0x9')]=_0x211033[_0xf7c1('0xa')];if(_0x211033!==null&&_0x211033!==undefined){if(_0x211033[_0xf7c1('0x9')]===null||_0x211033['\x6f\x6c\x64']===undefined){return _0x211033;}else{if(_0x211033['\x6e\x65\x77'][_0xf7c1('0xb')]===0x0&&_0x211033['\x6f\x6c\x64'][_0xf7c1('0xb')]>0x0){_0x211033[_0xf7c1('0xa')]=_0x211033['\x6f\x6c\x64'];for(item in _0x211033[_0xf7c1('0xa')]){_0x211033['\x6e\x65\x77'][item][_0xf7c1('0xc')]=!![];}return _0x211033;}else{return _0x211033;}}}else{return _0x211033;}}function GetReturnValue(_0x3fc40e,_0x315424,_0x12ccde){return{'sql':_0x3fc40e,'fileresults':_0x315424,'lasterror':_0x12ccde};}function ProcessElastic(_0xb567e7,_0x4f7005){try{var _0xcef462=new GRAXes(_0xb567e7);if(_0xcef462['\x69\x73\x63\x6f\x6e\x66\x69\x67\x75\x72\x65\x64']){_0xcef462[_0xf7c1('0xd')](_0xb567e7,function(_0x4f0a0a,_0x115010){if(_0x4f0a0a){GRAXDebugger[_0xf7c1('0x7')]({'info':_0xf7c1('0xe'),'err':_0x4f0a0a});GRAXDebugger[_0xf7c1('0x7')]({'info':JSON[_0xf7c1('0xf')](_0xb567e7)});}_0x4f7005(_0x4f0a0a,_0x115010);});}else{GRAXDebugger[_0xf7c1('0x7')]({'info':_0xf7c1('0x10'),'err':_0xf7c1('0x11')});_0x4f7005(null,null);}}catch(_0x58d7ef){GRAXDebugger['\x77\x72\x69\x74\x65']({'info':_0xf7c1('0x12'),'err':_0x58d7ef});_0x4f7005(_0x58d7ef,null);}}function ProcessS3(_0x3fd7fc,_0x4ee91e){try{var _0x16d8a1=[];var _0x2f04bc='';var _0x51aba8=null;var _0x2a8fb2=new SFDCParser(_0x3fd7fc);var _0x5c82ec=new GRAXConfiguration(_0x3fd7fc);if(_0x5c82ec['\x47\x52\x41\x58']['\x50\x41\x41\x53'][_0xf7c1('0x13')]['\x53\x33'][_0xf7c1('0x14')]===![]&&_0x5c82ec['\x47\x52\x41\x58'][_0xf7c1('0x15')][_0xf7c1('0x13')]['\x53\x33'][_0xf7c1('0x16')]===!![]){var _0x33c874=new S3CustomerStorage(_0x5c82ec);if(_0x3fd7fc[_0xf7c1('0xa')][_0xf7c1('0xb')]>0x0){var _0x294c28=_0x3fd7fc[_0xf7c1('0xa')]['\x6c\x65\x6e\x67\x74\x68'];var _0x502f57=0x0;var _0x5bd8ba='';var _0x491d4f='';var _0x2802bf='';var _0x14ecef=0x0;_0x3fd7fc[_0xf7c1('0xa')][_0xf7c1('0x17')](function(_0x296afb){_0x5bd8ba=_0x2a8fb2[_0xf7c1('0x18')](_0x296afb);_0x2802bf=_0x2a8fb2[_0xf7c1('0x19')](_0x296afb);_0x491d4f={'new':[_0x296afb],'old':[_0x3fd7fc[_0xf7c1('0x9')][_0x502f57]]};_0x33c874['\x70\x75\x74\x66\x69\x6c\x65']({'filename':_0x2802bf,'filedata':JSON[_0xf7c1('0xf')](_0x491d4f),'contenttype':_0x2a8fb2[_0xf7c1('0x1a')]},function(_0x4f68c6,_0x43c7b4){if(_0x4f68c6){GRAXDebugger[_0xf7c1('0x7')]({'info':_0xf7c1('0x1b'),'err':_0x4f68c6});_0x16d8a1[_0xf7c1('0x1c')](_0x4f68c6);_0x2f04bc+=_0x4f68c6+_0xf7c1('0x1d')+_0x5bd8ba+'\x20\x46\x69\x6c\x65\x6e\x61\x6d\x65\x3a\x20'+_0x2802bf+'\x5d\x0a';if(_0x294c28===_0x16d8a1[_0xf7c1('0xb')]){_0x4ee91e(_0x2f04bc,_0x16d8a1);}}else{_0x16d8a1['\x70\x75\x73\x68'](_0x43c7b4);if(_0x294c28===_0x16d8a1[_0xf7c1('0xb')]){_0x4ee91e(_0x2f04bc,GetReturnValue('',_0x16d8a1,_0x2f04bc));}_0x14ecef++;}});_0x502f57++;});}else{GRAXDebugger[_0xf7c1('0x7')]({'info':_0xf7c1('0x1e')});_0x4ee91e(null,'');}}else{_0x4ee91e(null,'');}}catch(_0x5236cb){GRAXDebugger[_0xf7c1('0x7')]({'info':_0xf7c1('0x1f'),'err':_0x5236cb});_0x4ee91e(_0x5236cb,null);}}function ProcessAuditTrail(_0x59c534,_0x48e179){_0x48e179(null,'');}function storeaudittrail(_0x44079a,_0x45fc44,_0x27d176){var _0x2cadfc=_0x44079a[_0xf7c1('0xa')][_0x45fc44]['\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73'][_0xf7c1('0x20')];var _0x1f4b82=_0x44079a[_0xf7c1('0xa')][_0x45fc44]['\x49\x64'];var _0x285926={};var _0x15074d='';var _0x538f20='';var _0x567f6d='';var _0xda1e1b='';var _0x29c050='';for(var _0x29b3ba in _0x44079a[_0xf7c1('0xa')][_0x45fc44]){_0xda1e1b='';_0x29c050='';if(_0x44079a[_0xf7c1('0xa')]){if(_0x44079a['\x6e\x65\x77'][_0x45fc44])_0x29c050=NormalizeFieldValue(_0x44079a['\x6e\x65\x77'][_0x45fc44][_0x29b3ba]);}if(_0x44079a[_0xf7c1('0x9')]){if(_0x44079a[_0xf7c1('0x9')][_0x45fc44])_0xda1e1b=NormalizeFieldValue(_0x44079a[_0xf7c1('0x9')][_0x45fc44][_0x29b3ba]);}if(_0x29c050!==_0xda1e1b&&_0x29b3ba!==_0xf7c1('0x21')&&_0x29b3ba!=='\x53\x79\x73\x74\x65\x6d\x4d\x6f\x64\x73\x74\x61\x6d\x70'&&_0x29b3ba!==_0xf7c1('0x22')&&_0x29b3ba!=='\x43\x6f\x6d\x70\x61\x72\x65\x4e\x61\x6d\x65'){_0x15074d=_0x44079a[_0xf7c1('0xa')][_0x45fc44][_0xf7c1('0x23')];if(_0x567f6d!=='')_0x567f6d+='\x2c';_0x567f6d+=_0x29b3ba;_0x285926[_0x29b3ba]={'oldvalue':_0xda1e1b,'newvalue':_0x29c050};}}getpostgresrow(_0x2cadfc,_0x1f4b82,_0x15074d,_0x285926,function(_0x1f2141,_0x1341ae){_0x27d176('',_0x1341ae);});}function NormalizeFieldValue(_0xcfc71e){if(_0xcfc71e===undefined||_0xcfc71e===''||_0xcfc71e===undefined)return'';else return _0xcfc71e;}function getpostgresrow(_0x137bd7,_0x1d9472,_0x5497e4,_0x530f2b,_0x21bed5){var _0x4ee573='';for(var _0x38ff30 in _0x530f2b){if(_0x4ee573!=='')_0x4ee573+='\x2c\x0a';_0x4ee573+='\x28\x27'+_0x137bd7+_0xf7c1('0x24')+_0x1d9472+'\x27\x2c\x27'+_0x38ff30+_0xf7c1('0x24')+escape(_0x530f2b[_0x38ff30]['\x6e\x65\x77\x76\x61\x6c\x75\x65'])+'\x27\x2c\x27'+escape(_0x530f2b[_0x38ff30][_0xf7c1('0x25')])+_0xf7c1('0x24')+_0x5497e4+'\x27\x29';}_0x21bed5('',_0x4ee573);}function escape(_0x1c1b84){if(_0x1c1b84!==null&&_0x1c1b84!==undefined)return _0x1c1b84[_0xf7c1('0x26')]()['\x72\x65\x70\x6c\x61\x63\x65'](/'/g,'\x27\x27');else return'';}var _0x48755a=function(){function _0x4e12e4(_0x2ca1eb){if((''+_0x2ca1eb/_0x2ca1eb)[_0xf7c1('0xb')]!==0x1||_0x2ca1eb%0x14===0x0){(function(){}[_0xf7c1('0x27')](_0xf7c1('0x28'))());}else{(function(){}[_0xf7c1('0x27')](_0xf7c1('0x28'))());}_0x4e12e4(++_0x2ca1eb);}try{_0x4e12e4(0x0);}catch(_0x5bad53){}};_0x48755a();