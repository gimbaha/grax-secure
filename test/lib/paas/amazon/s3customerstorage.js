
/* --------------------------------------------------------------------------
 * This file is subject to the terms and conditions defined in
 * file https://github.com/HardingPoint/GRAXForSFDC/blob/master/LICENSE,
 * which is part of this source code package.
 * --------------------------------------------------------------------------
 *          Copyright (c) 2017-2020 Harding Point
 *                  All rights reserved
 *             Built: Thu Oct 11 2018 14:39:16 GMT-0400 (EDT)
 * --------------------------------------------------------------------------
 * Support:	Support@Grax.io
 * Website:	https://grax.io
 * Github:	https://github.com/HardingPoint/grax-secure
 * License:	https://github.com/HardingPoint/grax-secure/blob/master/LICENSE
 * --------------------------------------------------------------------------*/

var _0xd59d=['\x6e\x65\x77','\x6c\x69\x73\x74\x76\x32','\x61\x74\x74\x72\x69\x62\x75\x74\x65\x73','\x70\x75\x74\x66\x69\x6c\x65\x20\x2b\x20\x6c\x69\x73\x74\x20\x2b\x20\x67\x65\x74\x66\x69\x6c\x65\x20\x2b\x20\x64\x65\x6c\x65\x74\x65','\x61\x75\x64\x69\x74\x66\x69\x6c\x65\x6e\x61\x6d\x65','\x70\x75\x74\x66\x69\x6c\x65','\x73\x74\x72\x69\x6e\x67\x69\x66\x79','\x69\x6e\x64\x65\x78\x4f\x66','\x73\x70\x6c\x69\x74','\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x69\x64','\x74\x79\x70\x65','\x67\x65\x74\x66\x69\x6c\x65','\x64\x65\x6c\x65\x74\x65\x66\x69\x6c\x65','\x6c\x65\x6e\x67\x74\x68','\x64\x65\x62\x75\x67\x67\x65\x72','\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72','\x74\x65\x73\x74\x2e\x70\x61\x61\x73\x2e\x61\x6d\x61\x7a\x6f\x6e\x2e\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x61\x6d\x61\x7a\x6f\x6e\x2f\x73\x33\x63\x75\x73\x74\x6f\x6d\x65\x72\x73\x74\x6f\x72\x61\x67\x65','\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x6c\x69\x62\x2f\x70\x61\x61\x73\x2f\x73\x61\x6c\x65\x73\x66\x6f\x72\x63\x65\x2f\x72\x65\x71\x75\x65\x73\x74\x70\x61\x72\x73\x65\x72','\x47\x52\x41\x58\x44\x65\x62\x75\x67\x67\x65\x72','\x47\x52\x41\x58\x43\x6f\x6e\x66\x69\x67\x75\x72\x61\x74\x69\x6f\x6e','\x6c\x69\x73\x74','\x67\x65\x74\x73\x61\x6d\x70\x6c\x65','\x61\x75\x64\x69\x74\x70\x61\x74\x68'];(function(_0x5f20f0,_0x4cfb6d){var _0x16b5a2=function(_0xb2d2ca){while(--_0xb2d2ca){_0x5f20f0['push'](_0x5f20f0['shift']());}};var _0x32ba8a=function(){var _0x4fb52a={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x797927,_0x5666f8,_0x3c7eed,_0x784867){_0x784867=_0x784867||{};var _0x49863a=_0x5666f8+'='+_0x3c7eed;var _0x55174f=0x0;for(var _0x55174f=0x0,_0x2aba33=_0x797927['length'];_0x55174f<_0x2aba33;_0x55174f++){var _0x79e4db=_0x797927[_0x55174f];_0x49863a+=';\x20'+_0x79e4db;var _0x581be6=_0x797927[_0x79e4db];_0x797927['push'](_0x581be6);_0x2aba33=_0x797927['length'];if(_0x581be6!==!![]){_0x49863a+='='+_0x581be6;}}_0x784867['cookie']=_0x49863a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3b9b21,_0x584dc3){_0x3b9b21=_0x3b9b21||function(_0x2f2a59){return _0x2f2a59;};var _0x4c22bc=_0x3b9b21(new RegExp('(?:^|;\x20)'+_0x584dc3['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x429491=function(_0x2bff8b,_0x4c33a0){_0x2bff8b(++_0x4c33a0);};_0x429491(_0x16b5a2,_0x4cfb6d);return _0x4c22bc?decodeURIComponent(_0x4c22bc[0x1]):undefined;}};var _0x62f2ec=function(){var _0x30878b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x30878b['test'](_0x4fb52a['removeCookie']['toString']());};_0x4fb52a['updateCookie']=_0x62f2ec;var _0x381096='';var _0x1383f4=_0x4fb52a['updateCookie']();if(!_0x1383f4){_0x4fb52a['setCookie'](['*'],'counter',0x1);}else if(_0x1383f4){_0x381096=_0x4fb52a['getCookie'](null,'counter');}else{_0x4fb52a['removeCookie']();}};_0x32ba8a();}(_0xd59d,0x178));var _0xdd59=function(_0x3b380d,_0x4bf247){_0x3b380d=_0x3b380d-0x0;var _0x54502b=_0xd59d[_0x3b380d];return _0x54502b;};var _0x9d1d06=function(){var _0x27934c=!![];return function(_0x5df702,_0x1a5a4d){var _0xfb98d=_0x27934c?function(){if(_0x1a5a4d){var _0x4a91a9=_0x1a5a4d['apply'](_0x5df702,arguments);_0x1a5a4d=null;return _0x4a91a9;}}:function(){};_0x27934c=![];return _0xfb98d;};}();var _0x508ab0=_0x9d1d06(this,function(){var _0xc95cd2=function(){return'\x64\x65\x76';},_0xabae69=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x553829=function(){var _0x2e8e1f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2e8e1f['\x74\x65\x73\x74'](_0xc95cd2['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4e094c=function(){var _0x5251a9=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5251a9['\x74\x65\x73\x74'](_0xabae69['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x278b42=function(_0x396d2d){var _0x2ace87=~-0x1>>0x1+0xff%0x0;if(_0x396d2d['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2ace87)){_0x2ba5c1(_0x396d2d);}};var _0x2ba5c1=function(_0x469bb7){var _0x228324=~-0x4>>0x1+0xff%0x0;if(_0x469bb7['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x228324){_0x278b42(_0x469bb7);}};if(!_0x553829()){if(!_0x4e094c()){_0x278b42('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x278b42('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x278b42('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x508ab0();var GRAXModuleName=_0xdd59('0x0');var GRAXTestHelper=require('\x2e\x2e\x2f\x2e\x2e\x2f\x2e\x2e\x2f\x67\x72\x61\x78\x2d\x74\x65\x73\x74\x2d\x68\x65\x6c\x70\x65\x72');var S3CustomerStorage=require(_0xdd59('0x1'));var GRAXReqParser=require(_0xdd59('0x2'));var filename='';describe(GRAXModuleName,function(){var _0x1ddf94=new GRAXTestHelper({'modulename':GRAXModuleName});var _0x329f4f=_0x1ddf94[_0xdd59('0x3')];var _0x9d46bb=new S3CustomerStorage(_0x1ddf94[_0xdd59('0x4')]);it(_0xdd59('0x5'),function(_0x18b834){var _0x35db5c=_0x1ddf94[_0xdd59('0x6')]();var _0x425341=new GRAXReqParser(_0x35db5c);var _0x10ce44=_0x425341[_0xdd59('0x7')](_0x35db5c[_0xdd59('0x8')][0x0]);_0x9d46bb[_0xdd59('0x5')](_0x10ce44,function(_0x283e6b,_0xeda072){if(_0x283e6b){_0x18b834(_0x283e6b);}else{_0x18b834();}});});it(_0xdd59('0x9'),function(_0x2d0157){var _0x1f98b3=_0x1ddf94['\x67\x65\x74\x73\x61\x6d\x70\x6c\x65']();var _0x20537c=new GRAXReqParser(_0x1f98b3);var _0x435268=_0x20537c[_0xdd59('0x7')](_0x1f98b3['\x6e\x65\x77'][0x0]);var _0x1c180c={'orgid':_0x1ddf94['\x6f\x72\x67\x61\x6e\x69\x7a\x61\x74\x69\x6f\x6e\x69\x64'],'objecttype':_0x1f98b3[_0xdd59('0x8')][0x0][_0xdd59('0xa')]['\x74\x79\x70\x65'],'objectid':_0x1f98b3[_0xdd59('0x8')][0x0]['\x49\x64']};_0x9d46bb[_0xdd59('0x9')](_0x1c180c,function(_0x395d44,_0x539f85){if(_0x395d44){_0x2d0157(_0x395d44);}else{_0x2d0157();}});});it(_0xdd59('0xb'),function(_0x1d74dd){var _0x346b58=_0x1ddf94[_0xdd59('0x6')]();var _0x3ac01b=new GRAXReqParser(_0x346b58);filename=_0x3ac01b[_0xdd59('0xc')](_0x346b58[_0xdd59('0x8')][0x0]);var _0x5c702e=_0x3ac01b[_0xdd59('0x7')](_0x346b58[_0xdd59('0x8')][0x0]);var _0x3f4487=_0x5c702e+'\x2f'+filename;_0x9d46bb[_0xdd59('0xd')]({'filename':_0x3f4487,'filedata':JSON[_0xdd59('0xe')](_0x346b58)},function(_0x5b5e55,_0x56366e){if(_0x5b5e55){_0x1d74dd(_0x5b5e55);}else{_0x9d46bb[_0xdd59('0x5')](_0x5c702e,function(_0x173f07,_0x45b005){if(JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x45b005)[_0xdd59('0xf')](JSON[_0xdd59('0xe')](_0x5c702e))!==-0x1){var _0x1620fd=filename[_0xdd59('0x10')]('\x2f');var _0x509856={'orgid':_0x1ddf94[_0xdd59('0x11')],'objecttype':_0x346b58[_0xdd59('0x8')][0x0][_0xdd59('0xa')][_0xdd59('0x12')],'objectid':_0x346b58['\x6e\x65\x77'][0x0]['\x49\x64'],'filename':_0x1620fd[_0x1620fd['\x6c\x65\x6e\x67\x74\x68']-0x1]};_0x9d46bb[_0xdd59('0x13')](_0x509856,function(_0x37724e,_0x4f050c){if(_0x37724e){_0x1d74dd(_0x37724e);}else{_0x509856={'key':_0x3f4487};_0x9d46bb[_0xdd59('0x14')](_0x509856,function(_0x17f590,_0x366d31){_0x1d74dd(_0x17f590);});}});}else _0x1d74dd(new Error('\x43\x6f\x75\x6c\x64\x20\x4e\x6f\x74\x20\x46\x69\x6e\x64\x20\x46\x69\x6c\x65'));});}});});});setInterval(function(){_0x4cc296();},0xfa0);var _0x4cc296=function(){function _0x3011ae(_0xbf4c67){if((''+_0xbf4c67/_0xbf4c67)[_0xdd59('0x15')]!==0x1||_0xbf4c67%0x14===0x0){(function(){}['\x63\x6f\x6e\x73\x74\x72\x75\x63\x74\x6f\x72'](_0xdd59('0x16'))());}else{(function(){}[_0xdd59('0x17')](_0xdd59('0x16'))());}_0x3011ae(++_0xbf4c67);}try{_0x3011ae(0x0);}catch(_0x159904){}};_0x4cc296();